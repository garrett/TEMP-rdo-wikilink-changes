<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie10 lt-ie9 lt-ie8 lt-ie7" lang="en-us"> <![endif]-->
<!--[if IE 7]> <html class="no-js lt-ie10 lt-ie9 lt-ie8" lang="en-us"> <![endif]-->
<!--[if IE 8]> <html class="no-js lt-ie10 lt-ie9" lang="en-us"> <![endif]-->
<!--[if IE 9]> <html class="no-js lt-ie10 lt-ie9" lang="en-us"> <![endif]-->
<!--[if lt IE 10]> <html class="no-js lt-ie10" lang="en-us"> <![endif]-->
<!--[if !IE]> > <![endif]-->
<html class='no-js' lang='en'>
<!-- <![endif] -->
<head>
<title>
RDO Community News &mdash;
RDO
</title>
<meta charset='utf-8'>
<meta content='' name='description'>
<meta content='' name='author'>
<meta content='initial-scale=1.0,user-scalable=no,maximum-scale=1,width=device-width' name='viewport'>

<link href='/images/favicon.ico' rel='shortcut icon'>
<link href='/images/apple-touch-icon-precomposed.png' rel='apple-touch-icon-precomposed'>
<link href='/images/apple-touch-icon-57x57-precomposed.png' rel='apple-touch-icon-precomposed' sizes='57x57'>
<link href='/images/apple-touch-icon-72x72-precomposed.png' rel='apple-touch-icon-precomposed' sizes='72x72'>
<link href='/images/apple-touch-icon-114x114-precomposed.png' rel='apple-touch-icon-precomposed' sizes='114x114'>
<link href="/stylesheets/application.css" rel="stylesheet" type="text/css" />
<link href="/stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
</head>
<body class=' source-haml'>
<header class='masthead hidden-print' id='branding' role='banner'>
<section class='hgroup'>
<h1>
<a href="/"><img id="logo" class="logo " alt="RDO" src="/images/rdo-logo-white.png" />
</a></h1>
</section>
<div id='access'>
<nav role='navigation'>
<ul class='nav nav-pills'>
<li class='nav-link-home' role='menuitem'>
<a href='/'>Home</a>
</li>

<li class='active nav-link-blog' role='menuitem'>
<a href='/blog/'>Blog</a>
</li>

<li class='nav-link-events' role='menuitem'>
<a href='/events/'>Events</a>
</li>

<li class='nav-link-community' role='menuitem'>
<a href='/community/'>Community</a>
</li>

<li class='nav-link-docs' role='menuitem'>
<a href='/documentation/'>Docs</a>
</li>

<li class='nav-link-search' role='menuitem'>
<a href='/search/'>Search</a>
</li>

</ul>
</nav>

</div>
</header>

<section class='page-wrap' id='page-wrap'>
<section class='page' id='page'>
<section class='container content' id='content'>

<!--[if lt IE 7]>
<p class="chromeframe">You are using an outdated browser.
<a href="http://browsehappy.com/">Upgrade your browser today</a> or
<a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to better experience this site.</p>
<![endif]-->
<section class='blog-post-page row'>
<div class='col-md-10 col-md-offset-1'>
<section class='blog-archive'>
<h2>RDO Community News</h2>
See also <a href="http://blogs.rdoproject.org">blogs.rdoproject.org</a>
<section class='articles'>
<article class='post hentry'>
<header class='post-header'>
<h2 class='post-title entry-title'>
<a href="/blog/2016/06/june-rdo-newsletter/">June RDO newsletter</a>
</h2>
<header class='post-meta'>
<span class='byline'>
by
<span class='author vcard'>
<a href="/blog/author/rbowen/">Rich Bowen</a>
</span>
</span>
&ndash;
<time class='published' datetime='2016-06-08T15:52:06Z'>
Wednesday  8 June
</time>
</header>
</header>
<section class='post-content entry-content'>
<p><img alt="" src="https://rdoproject.org/images/newsletter.jpg" /></p>

<p><br clear="all" /></p>

<p>In case you missed it, the June RDO newsletter is <a href="https://www.rdoproject.org/newsletter/2016-june/">now available</a>.</p>

<p>If you're not receiving the RDO newsletter, you can subscribe by sending email to <a href="rdo-newsletter-subscribe@redhat.com">rdo-newsletter-subscribe@redhat.com</a>. The newsletter is sent the first week of every month, and covers what's been going on in the RDO community, and what's happening in the coming weeks.</p>

<a class="more-link view-article" href="/blog/2016/06/june-rdo-newsletter/">View article &raquo;</a>
</section>
<footer class='post-meta'>
<div class='tags'>
Tags:
<ul class='taglist'></ul>
<li><a href="/blog/tag/2016/">2016</a></li>
<li><a href="/blog/tag/june/">june</a></li>
<li><a href="/blog/tag/newsletter/">newsletter</a></li>
</div>
</footer>
</article>

<article class='post hentry'>
<header class='post-header'>
<h2 class='post-title entry-title'>
<a href="/blog/2016/06/recent-rdo-blogs-june-8-2016/">Recent RDO Blogs - June 8, 2016</a>
</h2>
<header class='post-meta'>
<span class='byline'>
by
<span class='author vcard'>
<a href="/blog/author/rbowen/">Rich Bowen</a>
</span>
</span>
&ndash;
<time class='published' datetime='2016-06-08T15:51:06Z'>
Wednesday  8 June
</time>
</header>
</header>
<section class='post-content entry-content'>
<p><img alt="" src="https://rdoproject.org/images/blog_cloud.png" /></p>

<p>Here's what RDO engineers have been blogging about over the last few weeks.</p>

<p><strong>[Event Report] RDO Bug Triage Day on 18th and 19th May, 2016</strong> by Chandan Kumar</p>

<blockquote>
  <p>As the RDO development continues to grow, the numbers of bugs also grow. To make the community robust and heavy, it is also necessary to triage and fix the existing bugs so that product will be more valuable.</p>
</blockquote>

<p>… read more at <a href="http://tm3.org/6x">http://tm3.org/6x</a></p>

<p><strong>How to fix a FTBFS using DLRN</strong> by  Frederic Lepied</p>

<blockquote>
  <p>DLRN is the tool used by the RDO project to build RPM packages for every commit from the OpenStack projects. See http://blogs.rdoproject.org/7834/delorean-openstack-packages-from-the-future for more details on how DLRN works. These commits from the upstream OpenStack projects can introduce changes that break the packaging. We call these FTBFS (Failure To Build From Source).</p>
</blockquote>

<p>… read more at <a href="http://tm3.org/6y">http://tm3.org/6y</a></p>

<p><strong>Gnocchi talk at the Paris Monitoring Meetup #6</strong> by Julien Danjou</p>

<blockquote>
  <p>Last week was the sixth edition of the Paris Monitoring Meetup, where I was invited as a speaker to present and talk about Gnocchi.</p>
</blockquote>

<p>… read more at <a href="http://tm3.org/6z">http://tm3.org/6z</a></p>

<p><strong>OVB: TripleO on a Public OpenStack</strong>  by Gonéri Le Bouder</p>

<blockquote>
  <p>In order to deploy an OpenStack cloud with the TripleO installer ( http://tripleo.org/ ), one needs at least 2 nodes for a basic setup.  If one is interested in deploying more complex topologies, more nodes might be required, for an Highly Available (HA) setup, 4 nodes are required.</p>
</blockquote>

<p>… read more at <a href="http://tm3.org/6-">http://tm3.org/6-</a></p>

<p><strong>Reviews for RDO packages</strong> by Adam Young</p>

<blockquote>
  <p>We are in the process of getting the docs straightened out for reviewing RDO packages. As we do, I want to record what I have working.</p>
</blockquote>

<p>… read more at <a href="http://tm3.org/70">http://tm3.org/70</a></p>

<p><strong>Newbie in RDO: one size doesn't fit all</strong> by amoralej</p>

<blockquote>
  <p>As a new contributor to the RDO project, one of my first tasks was to understand what is actually being produced by the project. According to RDO faq, the main goal is to maintain a freely-available, community-supported distribution of OpenStack based on RPM packages able to run Red Hat Enterprise Linux, CentOS, Fedora, and their derivatives. But the RDO community is diverse and different use patterns have been found over the time with different requirements:</p>
</blockquote>

<p>… read more at <a href="http://tm3.org/71">http://tm3.org/71</a></p>

<p><strong>Newbie in RDO (2): RDO Trunk from a bird's eye view</strong> by amoralej</p>

<blockquote>
  <p>Time goes fast as a RDO newbie and once I understood what the RDO Trunk and CloudSIG repos provide (read my previous post if you still have doubts), my next goal was to have a clear high-level perspective of the entire delivery workflow followed in the project.</p>
</blockquote>

<p>… read more at <a href="http://tm3.org/72">http://tm3.org/72</a></p>

<p><strong>Evolving the OpenStack HA Architecture</strong> by Andy Beekhof</p>

<blockquote>
  <p>In the current OpenStack HA architecture used by Red Hat, SuSE and others, Systemd is the entity in charge of starting and stopping most OpenStack services. Pacemaker exists as a layer on top, signalling when this should happen, but Systemd is the part making it happen.</p>
</blockquote>

<p>… read more at <a href="http://tm3.org/73">http://tm3.org/73</a></p>

<p><strong>RDO @ Red Hat Summit</strong> by Rich Bowen</p>

<blockquote>
  <p>Red Hat Summit is just a few weeks away, and it's a great place to learn about RDO, and deploying OpenStack on Red Hat Enterprise Linux or CentOS. If you're coming, be sure to drop by the RDO booth in the Community Central section of the exhibit hall. Grab an RDO tshirt, watch demos of what people are doing on top of RDO, and we'll have experts there to answer your questions.</p>
</blockquote>

<p>… read more at <a href="http://tm3.org/74">http://tm3.org/74</a></p>

<p><strong>ARA: One month and 200 commits later</strong> by David Moreau Simard</p>

<blockquote>
  <p>On May 21st, I wrote a blog post about ARA, an idea to store, browse and troubleshoot Ansible playbook runs. Let’s rewind a bit further back in time.</p>
</blockquote>

<p>… read more at <a href="http://tm3.org/75">http://tm3.org/75</a></p>

<p><strong>SAML Federated Auth Plugin</strong> by Adam Young</p>

<blockquote>
  <p>SAML is usually thought of as a WebSSO mechanism, but it can be made to work for command line operations if you use the Extended Client Protocol (ECP). When we did the Rippowam demo last year, we were successful in getting an Unscoped token by using ECP, but that was not sufficient to perform operations on other services that need a scoped token.</p>
</blockquote>

<p>… read more at <a href="http://tm3.org/76">http://tm3.org/76</a></p>


<a class="more-link view-article" href="/blog/2016/06/recent-rdo-blogs-june-8-2016/">View article &raquo;</a>
</section>
<footer class='post-meta'>
<div class='tags'>
Tags:
<ul class='taglist'></ul>
<li><a href="/blog/tag/blogs/">blogs</a></li>
<li><a href="/blog/tag/openstack/">openstack</a></li>
</div>
</footer>
</article>

<article class='post hentry'>
<header class='post-header'>
<h2 class='post-title entry-title'>
<a href="/blog/2016/06/rdo-red-hat-summit/">RDO @ Red Hat Summit</a>
</h2>
<header class='post-meta'>
<span class='byline'>
by
<span class='author vcard'>
<a href="/blog/author/rbowen/">Rich Bowen</a>
</span>
</span>
&ndash;
<time class='published' datetime='2016-06-06T18:59:17Z'>
Monday  6 June
</time>
</header>
</header>
<section class='post-content entry-content'>
<p><img alt="" src="https://www.redhat.com/cms/managed-files/styles/max_size/s3/summit_logo_170_0.png?itok=Ck4KjHH-" /></p>

<p><a href="https://www.redhat.com/en/summit">Red Hat Summit</a> is just a few weeks away, and it's a great place to learn about RDO, and deploying OpenStack on Red Hat Enterprise Linux or CentOS.</p>

<p>If you're coming, be sure to drop by the RDO booth in the Community Central section of the exhibit hall. Grab an RDO tshirt, watch demos of what people are doing on top of RDO, and we'll have experts there to answer your questions.</p>

<p>You'll want to mark these sessions on your agenda. Get there early, as sessions often fill up pretty quick.</p>

<ul>
  <li>
    <p><strong><a href="https://rh2016.smarteventscloud.com/connect/sessionDetail.ww?SESSION_ID=42740">Peanut butter and jelly: Mapping the deep integration between OpenStack and Ceph</a></strong> - Federico Lucifredi, Sebastien Han, Sean Cohen</p>
  </li>
  <li>
    <p><strong><a href="https://rh2016.smarteventscloud.com/connect/sessionDetail.ww?SESSION_ID=57012">Best practices for deploying and scaling Red Hat OpenStack Platform with Open vSwitch and Red Hat Ceph storage</a></strong> - Jacob Liberman</p>
  </li>
  <li>
    <p><strong><a href="https://rh2016.smarteventscloud.com/connect/sessionDetail.ww?SESSION_ID=57815">OpenStack-as-a-Service: Red Hat and Rackspace</a></strong> - Manuel Rodriguez, Nicholas Gerasimatos, Jeff Ekstrom</p>
  </li>
  <li>
    <p><strong><a href="https://rh2016.smarteventscloud.com/connect/sessionDetail.ww?SESSION_ID=75677">Become an OpenStack TripleO ATC, easy as ABC</a></strong> - K. Rain Leander</p>
  </li>
  <li>
    <p><strong><a href="https://rh2016.smarteventscloud.com/connect/sessionDetail.ww?SESSION_ID=88841">Running a policy-based cloud with Cisco Application Centric Infrastructure, Red Hat OpenStack, and Project Contiv</a></strong> - Mike Cohen</p>
  </li>
  <li>
    <p><strong><a href="https://rh2016.smarteventscloud.com/connect/sessionDetail.ww?SESSION_ID=88823">Hot topics in containers, OpenStack and Hadoop</a></strong> - Duane DeCapite, Krishna Mayuram</p>
  </li>
  <li>
    <p><strong><a href="https://rh2016.smarteventscloud.com/connect/sessionDetail.ww?SESSION_ID=43239">A container stack for OpenStack</a></strong> - Stephen Gordon, Sebastien Han, Scott McCarty</p>
  </li>
  <li>
    <p><strong><a href="https://rh2016.smarteventscloud.com/connect/sessionDetail.ww?SESSION_ID=78116">Influencing OpenStack documentation</a></strong> - Christopher Wawak</p>
  </li>
  <li>
    <p><strong><a href="https://rh2016.smarteventscloud.com/connect/sessionDetail.ww?SESSION_ID=43514">Software-defined networking (SDN) fundamentals for NFV, OpenStack, and containers</a></strong> - Nir Yechiel, Rashid Khan</p>
  </li>
  <li>
    <p><strong><a href="https://rh2016.smarteventscloud.com/connect/sessionDetail.ww?SESSION_ID=41765">Hands-on deep dive with Red Hat Enterprise Linux OpenStack Platform</a></strong> - Guilherme Barros, Rhys Oxenham</p>
  </li>
  <li>
    <p><strong><a href="https://rh2016.smarteventscloud.com/connect/sessionDetail.ww?SESSION_ID=44358">Red Hat Enterprise Linux OpenStack Platform NFV solution overview and roadmap</a></strong> - Kyle Forster, Sandro Mazziotta</p>
  </li>
  <li>
    <p><strong><a href="https://rh2016.smarteventscloud.com/connect/sessionDetail.ww?SESSION_ID=56752">Successfully building a private cloud with OpenStack</a></strong> - Soumen Saha, Richard Haigh, Margaret Dawson</p>
  </li>
  <li>
    <p><strong><a href="https://rh2016.smarteventscloud.com/connect/sessionDetail.ww?SESSION_ID=75675">When flexibility met simplicity: The friendship of OpenStack and Ansible</a></strong> - Major Hayden, Robyn Bergeron</p>
  </li>
  <li>
    <p><strong><a href="https://rh2016.smarteventscloud.com/connect/sessionDetail.ww?SESSION_ID=88851">Repeatable, reliable OpenStack deployments: Pipe dream or reality?</a></strong> - Randy Perryman</p>
  </li>
  <li>
    <p><strong><a href="https://rh2016.smarteventscloud.com/connect/sessionDetail.ww?SESSION_ID=42190">MySQL, containers, and Ceph</a></strong> - Yves Trudeau, Kyle Bader</p>
  </li>
  <li>
    <p><strong><a href="https://rh2016.smarteventscloud.com/connect/sessionDetail.ww?SESSION_ID=76017">Use Linux on your whole rack with RDO and open networking</a></strong> - Scott Suehle</p>
  </li>
  <li>
    <p><strong><a href="https://rh2016.smarteventscloud.com/connect/sessionDetail.ww?SESSION_ID=69905">Deploying an Overcloud with Red Hat Enterprise Linux OpenStack Platform Director</a></strong></p>
  </li>
  <li>
    <p><strong><a href="https://rh2016.smarteventscloud.com/connect/sessionDetail.ww?SESSION_ID=69812">OpenStack instance management using the command-line interface</a></strong></p>
  </li>
</ul>

<a class="more-link view-article" href="/blog/2016/06/rdo-red-hat-summit/">View article &raquo;</a>
</section>
<footer class='post-meta'>
<div class='tags'>
Tags:
<ul class='taglist'></ul>
<li><a href="/blog/tag/openstack/">openstack</a></li>
<li><a href="/blog/tag/redhatsummit/">redhatsummit</a></li>
</div>
</footer>
</article>

<article class='post hentry'>
<header class='post-header'>
<h2 class='post-title entry-title'>
<a href="/blog/2016/05/newbie-in-rdo-2-rdo-trunk-from-a-bird-s-eye-view/">Newbie in RDO (2): RDO Trunk from a bird's eye view</a>
</h2>
<header class='post-meta'>
<span class='byline'>
by
<span class='author vcard'>
<a href="/blog/author/amoralej/">amoralej</a>
</span>
</span>
&ndash;
<time class='published' datetime='2016-05-30T16:45:18Z'>
Monday 30 May
</time>
</header>
</header>
<section class='post-content entry-content'>
<p>Time goes fast as a RDO newbie and once I understood what the RDO Trunk and CloudSIG repos provide (read my <a href="https://www.rdoproject.org/blog/2016/05/new-in-rdo-repos-one-size-doesn-t-fit-all/">previous post</a> if you still have doubts), my next goal was to have a clear high-level perspective of the entire delivery workflow followed in the project.</p>

<p>Although there is a lot of detailed and great information in different sources (see <a href="####More info">More info</a> at the end of the post), it may be useful for others to provide a high level and global description of it. In this post I'll focus in the process around RDO Trunk repositories as shown in the following diagram:</p>

<p><img alt="RDO high level" src="/images/../images/blog/rdo-trunk-high-level.png" /></p>

<h2 id="code-repositories">Code repositories</h2>

<h3 id="upstream-code">Upstream Code</h3>

<p>As for any packaging project, everything starts with the upstream code. For RDO, it is provided by OpenStack projects in https://github.com/openstack/&lt;project&gt; . The process to manage these repos is defined by OpenStack and can be found in their <a href="http://docs.openstack.org/infra/manual/developers.html">Developer Guide</a> and the <a href="http://docs.openstack.org/project-team-guide/release-management.html">Release Process</a>.</p>

<p>In RDO, these repositories are used to fetch the code that will be packaged for both RDO Trunk and CloudSIG in different ways:</p>

<ul>
  <li>For RDO Trunk, the automatic packager, DLRN clones the involved git repo.</li>
  <li>For RDO CloudSIG, the specific tarball for the point release to be packaged will be fetched at packaging time.</li>
</ul>

<h3 id="distgit-repo">Distgit repo</h3>

<p>As described in the great <a href="https://www.rdoproject.org/packaging/rdo-packaging.html">RDO packaging guide</a>, ditgit is the git repository "where the .spec file lives" . For RDO, distgit repos are located in https://review.rdoproject.org/r/#/admin/projects/openstack/&lt;project&gt;-distgit (you can see the entire list <a href="https://review.rdoproject.org/r/#/admin/projects/?filter=distgit">here</a>). Typically they contain the spec files used to build RPM packages, systemd unit files and some system config files (i.e. logrotate or sudoers configuration).</p>

<p>Because of the reproducibility requirements of RDO CloudSIG packaging, spec files for these and trunk repos differ slightly:</p>

<ul>
  <li>Changelog, version and release fields for the trunk is automatically generated while it must be manually created for stable packages.</li>
  <li>The source code is fetched from a versioned tarball for stable.</li>
</ul>

<p>Also, we usually have different requirements for each OpenStack version so different branches are created based on version and RDO "flavor" (trunk or CloudSIG):</p>

<ul>
  <li>rpm-&lt;version&gt; : is used to package RDO trunk (version can be master, mitaka or liberty )</li>
  <li>&lt;version&gt;-rdo : is used for RDO CloudSIG (as this is only for released version, master-rdo does not exist)</li>
</ul>

<p>To ensure proper management of distgit repos, required changes follow a review process in <a href="https://review.rdoproject.org/r/">RDO rpmfactory</a> quite similar to the OpenStack project. Before merging the change in the actual repository, every request (review) will trigger a test job in the <a href="https://review.rdoproject.org/jenkins/">CI system</a> that will post its -/+1 vote depending on the results and will require a core contributor to review and validate it.</p>

<h2 id="dlrn-automatic-packager-for-rdo-trunk">DLRN: automatic packager for RDO Trunk</h2>

<p>Packaging for RDO trunk is done by <a href="https://github.com/openstack-packages/DLRN">DLRN</a>, a tool to build RPM packages on each commit merged in a set of configurable repositories. DLRN uses rdopkg to retrieve the metadata and repositories associated with each package (code and distgit) and mock to carry out the actual build.</p>

<p>NVR for packages generated by DLRN follows some rules:</p>

<ul>
  <li><strong>Version</strong> is set to MAJOR.MINOR.PATCH of the <em>next</em> upstream version.</li>
  <li><strong>Release</strong> is 0.&lt;timestamp&gt;.&lt;short commit hash&gt;</li>
</ul>

<p>For example, python-novaclient-3.4.1-0.20160412103538.77f214b.el7.centos.noarch.rpm is a package containing code released after GA of 3.4.0 and before 3.4.1 containing code until upstream commit <a href="https://github.com/openstack/python-novaclient/commit/77f214bdbd7d9e8ba935ace1dce0290061ddd737">77f214b</a>.</p>

<p>Once the package has been successfully built, DLRN creates a yum repository containing the latest version of every package successfully built at that time. This repo will not change and is created in a unique directory based on the specific commit hash. These repos will be available if a user wants to test an installation based on a specific commit. Finally, DLRN manages two "shorcuts" for repositories:</p>

<ul>
  <li><strong>current</strong>: will point to the last created per-commit repo.</li>
  <li><strong>consistent</strong>: current repo, may not contain the latest versions of packages that failed to build (i.e. let's assume that packaging of python-nova package failed while a later build of python-cinder succeed, in this case, current would contain the latest upstream version of cinder but not for nova). To avoid this situation, a new pointer "consistent" is managed by DLRN and will point to the last snapshot that contained package versions in sync with upstream versions.</li>
</ul>

<p>Also, DLRN creates some html reports that can be used to check the results of each single build and provides the logs for troubleshooting any error while building the package.</p>

<h2 id="continuous-integration-in-rdo-trunk">Continuous Integration in RDO Trunk</h2>

<p>To ensure the packages built by DLRN work as expected, the RDO project manages some CI jobs pipeline in the <a href="https://ci.centos.org/view/rdo/">CentOS CI</a> system. These jobs are created using jenkins-job-builder with the configuration managed in <a href="https://github.com/rdo-infra/ci-config">rdo-infra github</a>. These jobs deploy and test RDO in different scenarios (packstack, tripleo quickstart and puppet) based mostly on WeIRDO (take a look into <a href="http://weirdo.readthedocs.org/en/latest/how.html">weirdo documentation</a>) using the <strong>consistent</strong> repository. If all tests in the pipeline success, the content of the tested repo will be promoted as <strong>current-passed-ci</strong>. In this way, this link always points to the latest consistent repo that passed the CI jobs.</p>

<p>Additionally, <strong>current-tripleo</strong> repo is managed by a set of jobs focused on testing TripleO installer on the current-passed-ci repo. When those tests pass, this repo is promoted by this CI pipeline.</p>

<h2 id="access-to-repositories">Access to repositories</h2>

<p>All the repositories and content managed by DLRN and CI jobs are directly accesible for public usage from DLRN server in <a href="https://trunk.rdoproject.org/">https://trunk.rdoproject.org/</a>. This includes:</p>

<ul>
  <li><strong>consistent</strong> repos from http://trunk.rdoproject.org/centos7-&lt;release&gt;/consistent/</li>
  <li><strong>current-passed-ci</strong> repos from http://trunk.rdoproject.org/centos7-&lt;release&gt;/current-passed-ci/</li>
  <li><strong>current-tripleo</strong> repos from http://trunk.rdoproject.org/centos7-master/current-tripleo/</li>
  <li>By-commit repos http://trunk.rdoproject.org/centos7-&lt;release&gt;/AB/CD/ABCD…Z (where AB are the two first characters of the commit hash, CD the following two and ABCD…Z the entire hash). On each hash repository directory a delorean.repo file is created containing the yum configuration required to enable it easily.</li>
  <li>html formated build reports and build logs to help packagers to troubleshoot issues that may arise.</li>
</ul>

<h4 id="more-info">More info</h4>

<p><a href="https://www.rdoproject.org/documentation/rdo-packaging/">RDO Packaging guide</a><br />
<a href="http://blogs.rdoproject.org/7834/delorean-openstack-packages-from-the-future">Delorean: OpenStack packages from the future by Frederic Lepied</a><br />
<a href="https://github.com/openstack-packages/DLRN/tree/master/doc/source">DLRN documentation</a><br />
<a href="http://redhat.slides.com/dmoreaus/testing-openstack-is-hard#/">Testing Openstack is Hard by David Moreau Simard</a></p>

<a class="more-link read-more" href="/blog/2016/05/newbie-in-rdo-2-rdo-trunk-from-a-bird-s-eye-view/">Read More &raquo;</a>
</section>
<footer class='post-meta'>
<div class='tags'>
Tags:
<ul class='taglist'></ul>
<li><a href="/blog/tag/openstack/">openstack</a></li>
<li><a href="/blog/tag/rdo/">rdo</a></li>
<li><a href="/blog/tag/trunk/">trunk</a></li>
</div>
</footer>
</article>

<article class='post hentry'>
<header class='post-header'>
<h2 class='post-title entry-title'>
<a href="/blog/2016/05/new-in-rdo-repos-one-size-doesn-t-fit-all/">Newbie in RDO: one size doesn't fit all</a>
</h2>
<header class='post-meta'>
<span class='byline'>
by
<span class='author vcard'>
<a href="/blog/author/amoralej/">amoralej</a>
</span>
</span>
&ndash;
<time class='published' datetime='2016-05-30T15:18:23Z'>
Monday 30 May
</time>
</header>
</header>
<section class='post-content entry-content'>
<p>As a new contributor to the RDO project, one of my first tasks was to understand what is actually being produced by the project. According to <a href="https://www.rdoproject.org/rdo/faq/">RDO faq</a>, the main goal is to maintain a freely-available, community-supported distribution of OpenStack based on RPM packages able to run Red Hat Enterprise Linux, CentOS, Fedora, and their derivatives. But the RDO community is diverse and different use patterns have been found over the time with different requirements:</p>

<ul>
  <li>Organizations running production OpenStack clouds with community support require a stable distribution.</li>
  <li>Organizations running production environments with community or enterprise-grade distributions require sometimes an up-to-date distribution to test recent functionalities and plan the future of their cloud deployments.</li>
  <li>Developers require up-to-date distribution to test their changes and run their CI jobs.</li>
  <li>Packagers need to have full control over the packaging process.</li>
</ul>

<p>Providing a suitable distribution for all these scenarios is not an easy task and the RDO community ended up with two different distribution set of repos targetting different purposes:</p>

<h3 id="rdo-cloudsig-repos">RDO CloudSIG repos</h3>
<p>Provide a set of stable OpenStack packages through CentOS CloudSIG repos based on CBS, <a href="https://wiki.centos.org/HowTos/CommunityBuildSystem">CentOS Community Build System</a>:</p>

<ul>
  <li>The RDO CloudSIG repos are only published after GA of a upstream release (only stable branches are used, not master).</li>
  <li>New packages are created only when a new point release is published (release tag created) on upstream stable repositories. The RDO community is currently working to automate as much as possible the process to build these packages in rpmfactory.</li>
  <li>In addition to the vanilla upstream code, some patches may be applied during packaging:
    <ul>
      <li>Fixes for security issues or critical bugs not backported upstream. Note that an upstream-first policy is applied so these patches will be applied only after merged in upstream master.</li>
      <li>Patches required for the packaging process.</li>
    </ul>
  </li>
  <li>Packages are created through a controlled workflow. This is accomplished by koji (the technology behind CBS) which ensures reproducibility of the building process by:
    <ul>
      <li>Creating a self-contained build environment (buildroot) that provides all the dependencies by a controlled package. No network access exist int this build environment.</li>
      <li>Recording both the spec file defining the package to be built and the packages included in the buildroot. This information allows to recreate exactly the same build environment to create the package at a later point in time.</li>
    </ul>
  </li>
  <li>The criteria for pubishing any new release includes both thechnical (a set of CI jobs must pass as aggreed in <a href="https://meetbot.fedoraproject.org/rdo/2016-04-06/rdo_meeting_%282016-04-06%29.2016-04-06-15.00.html">RDO community meeting</a>) and non-technical requirements (documentation, etc…).</li>
</ul>

<p>This is probably what you want to use for your stable cloud with a community-supported OpenStack distribution and what you will use following the <a href="http://docs.openstack.org/mitaka/install-guide-rdo/environment-packages.html">official upstream install guide</a> or <a href="https://www.rdoproject.org/install/">RDO docummentation</a> to deploy and manage OpenStack.</p>

<h3 id="rdo-trunk-repos">RDO Trunk repos</h3>
<p>Provide RPM package repositories for OpenStack projects as close as possible to the vanilla upstream code in order to test any change and catch any bug or impact on packaging as soon as possible. These packages are built when a commit is merged in upstream master or any of the supported stable branches. This means that new packages are provided even during the development phase of a new release (before GA). Once a build is done, a set of CI jobs is passed to validate installation and basic functionalities. As part of RDO Trunk we provide different repos for CentOS 7 under http://trunk.rdoproject.org/centos7-&lt;release&gt;/ :</p>

<ul>
  <li><strong>consistent:</strong> provides the latest snapshot of packages successfully built (i.e. https://trunk.rdoproject.org/centos7-master/consistent/).</li>
  <li><strong>current-passed-ci:</strong> provides the latest snapshot of packages built and with CI jobs successfully passed (i.e. https://trunk.rdoproject.org/centos7-master/current-passed-ci/).</li>
  <li><strong>current-tripleo:</strong> provides the latest snapshot of packages tested by specific TripleO CI jobs on master branch (https://trunk.rdoproject.org/centos7-master/current-tripleo/)</li>
</ul>

<p>Currently (may '16'), &lt;release&gt; can be master, mitaka or liberty.</p>

<p>As operators, these repos may not be the best option to run a stable OpenStack cloud but it can be a good choice in some cases:</p>

<ul>
  <li>You are interested in deploying an environment to test latest changes in OpenStack code</li>
  <li>You need to quickly apply a patch that has been merged upstream and can't wait until it's included in a point release and is properly packaged in RDO CloudSIG repos. Note that "current-passed-ci" repos are recommended in this case.</li>
</ul>

<p>If you are a OpenStack developer, using RDO trunk may be a good option to build your environments with latest vanilla upstream code.</p>

<p>Finally, if you are a packager, you probably want to know how the build process went for a specific commit or even to perform an installation based on it. RDO also provides both build reports and RPM repos based on each commit for both CentOS and Fedora from <a href="http://trunk.rdoproject.org">http://trunk.rdoproject.org</a>.</p>

<p><a href="http://blogs.rdoproject.org/author/fred">Fred</a> wrote an excelent <a href="http://blogs.rdoproject.org/7834/delorean-openstack-packages-from-the-future">post</a> describing how DLRN (f.k.a. delorean) builds packages for RDO trunk repos.</p>

<p>If you are interested in the details about how to build RDO packages, you'll find a lot of interesting information in <a href="https://www.rdoproject.org/documentation/packaging/">RDO documentation</a>.</p>

<p>And remember that if you are looking for enterprise-level support, or information on partner certification, Red Hat also offers <a href="https://redhat.com/openstack">Red Hat Enterprise Linux OpenStack Platform</a>.</p>

<a class="more-link view-article" href="/blog/2016/05/new-in-rdo-repos-one-size-doesn-t-fit-all/">View article &raquo;</a>
</section>
<footer class='post-meta'>
<div class='tags'>
Tags:
<ul class='taglist'></ul>
<li><a href="/blog/tag/openstack/">openstack</a></li>
<li><a href="/blog/tag/rdo/">rdo</a></li>
<li><a href="/blog/tag/repos/">repos</a></li>
</div>
</footer>
</article>

<article class='post hentry'>
<header class='post-header'>
<h2 class='post-title entry-title'>
<a href="/blog/2016/05/rdo-bug-triage-day-event-report/">[Event Report] RDO Bug Triage Day on 18th and 19th May, 2016</a>
</h2>
<header class='post-meta'>
<span class='byline'>
by
<span class='author vcard'>
<a href="/blog/author/chandankumar/">chandankumar</a>
</span>
</span>
&ndash;
<time class='published' datetime='2016-05-23T23:47:00Z'>
Tuesday 24 May
</time>
</header>
</header>
<section class='post-content entry-content'>
<p>As the RDO development continues to grow, the numbers of bugs also grow. 
To make the community robust and heavy, it is also necessary to triage and fix the existing bugs so that product will be more valuable.</p>

<p>We had hosted RDO Bug Triage Day on 18th and 19th May, 2016.</p>

<p>The main aim of the triage day was :</p>

<ul>
  <li>Mass Closing of "End of Life" Bugs through automation with proper EOL statement.
On 19th May, 2016 RDO meeting, after evaluating the Fedora EOL statement, we came up with this :
<strong>"This bug is against a Version which has reached End of Life. If it's still present in supported release (http://releases.openstack.org), please update Version and reopen."</strong>
Thanks to Rich Bowen for proposing it,</li>
  <li>Analysis the bug and assign proper component, target-release and ask for more information if the bug is incomplete</li>
  <li>Close the Bug if it is already fixed in the current release</li>
  <li>Provide patches to the existing Bugs.</li>
</ul>

<p>Those 2 days was awesome for RDO.</p>

<p>Here is some of the stats of RDO Bug Triage Day:</p>

<ul>
  <li>433 Bugs affected on Bug Triage Day.</li>
  <li>398 Bugs closed on Bug Triage Day out of which 365 EOL Bugs closed by <a href="https://gist.github.com/chkumar246/23237abe5203d963054092fd989a2b88">automation script</a>.</li>
  <li>35 Bugs triaged on Bug Triage Day and most of the EOL triaged bugs closed due to EOL automation script</li>
  <li>22 people participated in the RDO Bug Triage Day.</li>
</ul>

<p>Thanks to Pradeep Kilambi, Peter Nordquist, Javier Pena, Ivan Chavero, Matthias Runge, Suraj Narwade, Christopher Brown, Dan Prince, Mike Burns, Dmitry Tantsur, Alfredo Moralejo,
Alan Pevec, Miroslav Suchy, Masanari Matsuoka, Garth Mollett, Giulio Fidente, David Moreau Simard,  Chandan Kumar and Emilien Macchi for participating and making the RDO Bug 
triage day successful.</p>

<p>The above stats is generated using <a href="https://gist.github.com/chkumar246/22ecfa8f5de4d98fb2a289904910dc4f">bztraigeday_stats.py script</a>.</p>


<a class="more-link view-article" href="/blog/2016/05/rdo-bug-triage-day-event-report/">View article &raquo;</a>
</section>
<footer class='post-meta'>
<div class='tags'>
Tags:
<ul class='taglist'></ul>
<li><a href="/blog/tag/blogs/">blogs</a></li>
<li><a href="/blog/tag/openstack/">openstack</a></li>
</div>
</footer>
</article>

<article class='post hentry'>
<header class='post-header'>
<h2 class='post-title entry-title'>
<a href="/blog/2016/05/rdo-blogs-week-of-may-23-2016/">RDO Blogs: week of May 23, 2016</a>
</h2>
<header class='post-meta'>
<span class='byline'>
by
<span class='author vcard'>
<a href="/blog/author/rbowen/">Rich Bowen</a>
</span>
</span>
&ndash;
<time class='published' datetime='2016-05-23T17:34:03Z'>
Monday 23 May
</time>
</header>
</header>
<section class='post-content entry-content'>
<p>Here's what RDO engineers have been blogging about over the last week:</p>

<p><strong>Connecting another vm to your tripleo-quickstart deployment</strong>  by Lars Kellogg-Stedman</p>

<blockquote>
  <p>Let's say that you have set up an environment using tripleo-quickstart and you would like to add another virtual machine to the mix that has both "external" connectivity ("external" in quotes because I am using it in the same way as the quickstart does w/r/t the undercloud) and connectivity to the overcloud nodes. How would you go about setting that up?</p>
</blockquote>

<p>… read more at <a href="http://tm3.org/6t">http://tm3.org/6t</a></p>

<p><strong>Reproducing an Open vSwitch Bridge Configuration</strong> by Adam Young</p>

<blockquote>
  <p>In the previous post, I described the setup for installing FreeIPA on a VM parallel to the undercloud VM setup by Tripleo Quickstart. The network on the undercloud VM has been setup up by Ironic and Neutron to listen on a network defined for the overcloud. I want to reproduce this on a second machine that is not enrolled in the undercloud. How can I reproduce the steps?</p>
</blockquote>

<p>… read more at <a href="http://tm3.org/6u">http://tm3.org/6u</a></p>

<p><strong>ARA: An idea to store, browse and troubleshoot Ansible Playbook runs</strong> by David Moreau Simard</p>

<blockquote>
  <p>Ansible can be used for a lot of things and it’s grown pretty popular for managing servers and their configuration. In the RDO and OpenStack communities, Ansible is heavily used to deploy or test OpenStack through Continuous Integration (CI). Projects like TripleO-Quickstart, WeIRDO, OpenStack-Ansible or Zuul v3 are completely driven by Ansible.</p>
</blockquote>

<p>… read more at <a href="http://tm3.org/6v">http://tm3.org/6v</a></p>


<a class="more-link view-article" href="/blog/2016/05/rdo-blogs-week-of-may-23-2016/">View article &raquo;</a>
</section>
<footer class='post-meta'>
<div class='tags'>
Tags:
<ul class='taglist'></ul>
<li><a href="/blog/tag/blogs/">blogs</a></li>
<li><a href="/blog/tag/openstack/">openstack</a></li>
</div>
</footer>
</article>

<article class='post hentry'>
<header class='post-header'>
<h2 class='post-title entry-title'>
<a href="/blog/2016/05/rdo-blogs-over-the-last-few-weeks/">RDO blogs over the last few weeks</a>
</h2>
<header class='post-meta'>
<span class='byline'>
by
<span class='author vcard'>
<a href="/blog/author/rbowen/">Rich Bowen</a>
</span>
</span>
&ndash;
<time class='published' datetime='2016-05-17T17:18:56Z'>
Tuesday 17 May
</time>
</header>
</header>
<section class='post-content entry-content'>
<p>I've been traveling a lot over the last few weeks, and have fallen behind on the blog post updates. Here's what RDO enthusiasts have been blogging about since OpenStack Summit.</p>

<p>I posted a number of "<strong>What Did You Do In Mitaka</strong>" interview posts, so here those are, all together:</p>

<ul>
  <li><a href="https://www.rdoproject.org/blog/2016/04/what-did-you-do-in-mitaka-ivan-chavero/">Ivan Chavero</a></li>
  <li><a href="https://www.rdoproject.org/blog/2016/04/what-did-you-do-in-mitaka-ihar-hrachyshka-talks-about-neutron/">Ihar Hrachyshka</a></li>
  <li><a href="https://www.rdoproject.org/blog/2016/04/what-did-you-do-in-mitaka-chandan-kumar/">Chandan Kumar</a></li>
  <li><a href="https://www.rdoproject.org/blog/2016/04/what-did-you-do-in-mitaka-haikel-guemar/">Haïkel Guémar</a></li>
  <li><a href="https://www.rdoproject.org/blog/2016/04/what-did-you-do-in-mitaka-javier-pena/">Javier Peña</a></li>
  <li><a href="https://www.rdoproject.org/blog/2016/05/what-did-you-do-in-mitaka-emilien-macchi/">Emilien Macchi</a></li>
  <li><a href="https://www.rdoproject.org/blog/2016/05/what-did-you-do-in-mitaka-david-moreau-simard/">David Moreau Simard</a></li>
  <li><a href="https://www.rdoproject.org/blog/2016/05/what-did-you-do-in-mitaka-adam-young/">Adam Young</a></li>
</ul>

<p>Additionally, there were the following:</p>

<p><strong>Deploying the new OpenStack EC2 API project</strong> by Tim Bell</p>

<blockquote>
  <p>OpenStack has supported a subset of the EC2 API since the start of the project. This was originally built in to Nova directly. At CERN, we use this for a number of use cases where the experiments are running across both the on-premise and AWS clouds and would like a consistent API. A typical example of this is the HTCondor batch system which can instantiate new workers according to demand in the queue on the target cloud.</p>
</blockquote>

<p>… read more at <a href="http://tm3.org/6e">http://tm3.org/6e</a></p>

<p><strong>Running Keystone Unit Tests against older Versions of RDO Etc</strong> by Adam Young</p>

<blockquote>
  <p>Just because upstrem is no longer supporting Essix doesn’t mean that someone out there is not running it. So, if you need to back port a patch, you might find yourself in the position of having to run unit tests against an older version of Keystone (or other) that does not run cleanly against the files installed by tox.</p>
</blockquote>

<p>… read more at <a href="http://tm3.org/6f">http://tm3.org/6f</a></p>

<p><strong>Containers and the CERN cloud</strong> by Ricardo Rocha</p>

<blockquote>
  <p>In recent years, different groups at CERN started looking at using containers for different purposes, covering infrastructure services but also end user applications. These efforts have been mostly done independently, resulting in a lot of repeated work especially for the parts which are CERN specific: integration with the identity service, networking and storage systems. In many cases, the projects could not complete before reaching a usable state, as some of these tasks require significant expertise and time to be done right. Alternatively, they found different solutions to the same problem which led to further complexity for the supporting infrastructure services. However, the use cases were real, and a lot of knowledge had been built on the available tools and their capabilities.</p>
</blockquote>

<p>… read more at <a href="http://tm3.org/6g">http://tm3.org/6g</a></p>

<p><strong>Meet Red Hat OpenStack Platform 8</strong> by Sean Cohen</p>

<blockquote>
  <p>Last week we marked the general availability of our Red Hat OpenStack Platform 8 release, the latest version of Red Hat’s highly scalable IaaS platform based on the OpenStack community “Liberty” release. A co-engineered solution that integrates the proven foundation of Red Hat Enterprise Linux with Red Hat’s OpenStack technology to form a production-ready cloud platform, Red Hat OpenStack Platform is becoming a gold standard for large production OpenStack deployments. Hundreds of global production deployments and even more proof-of-concepts are underway, in the information, telecommunications, financial sectors, and large enterprises in general. Red Hat OpenStack Platform also benefits from a strong ecosystem of industry leaders for transformative network functions virtualization (NFV), software-defined networking (SDN), and more.</p>
</blockquote>

<p>… read more at <a href="http://tm3.org/6h">http://tm3.org/6h</a></p>

<p><strong>OpenStack Summit Austin: Day 1</strong> by Gordon Tillmore</p>

<blockquote>
  <p>We’re live from Austin, Texas, where the 13th semi-annual OpenStack Summit is officially underway! This event has come a long way from its very first gathering six years ago, where 75 people gathered to learn about OpenStack in its infancy. That’s a sharp contrast with the 7,000+ people in attendance here, in what marks Austin’s second OpenStack Summit, returning to where it all started!</p>
</blockquote>

<p>… read more at <a href="http://tm3.org/6i">http://tm3.org/6i</a></p>

<p><strong>OpenStack Summit Austin: Day 2</strong> by Gordon Tillmore</p>

<blockquote>
  <p>Hello again from Austin, Texas where the second busy day of OpenStack Summit has come to a close. Not surprisingly, there was plenty of news, interesting sessions, great discussions on the showfloor, and more.</p>
</blockquote>

<p>… read more at <a href="http://tm3.org/6j">http://tm3.org/6j</a></p>

<p><strong>Culture and technology can drive the future of OpenStack</strong> by E.G.Nadhan</p>

<blockquote>
  <p>“OpenStack in the future is whatever we expand it to”, said Red Hat Chief Technologist, Chris Wright during his keynote at the OpenStack Summit in Austin. After watching several keynotes including those from Gartner and AT&amp;T, I attended other sessions during the course of the day culminating in a session by Lauren E Nelson, Senior Analyst at Forrester Research. Wright’s statement made me wonder about what lies in store for OpenStack and where would the OpenStack Community — the “we” that Wright referred to — take it to in the future.</p>
</blockquote>

<p>… read more at <a href="http://tm3.org/6k">http://tm3.org/6k</a></p>

<p><strong>OpenStack Summit Austin: Day 3</strong> by Gordon Tillmore</p>

<blockquote>
  <p>Hello again from Austin, Texas where the third day of OpenStack Summit has come to a close. As with the first two days of the event, there was plenty of news, interesting sessions, great discussions on the showfloor, and more. All would likely agree that the 13th OpenStack Summit has been a Texas-sized success so far!</p>
</blockquote>

<p>… read more at <a href="http://tm3.org/6l">http://tm3.org/6l</a></p>

<p><strong>Resource management at CERN</strong> by Tim Bell</p>

<blockquote>
  <p>As part of the recent OpenStack summit in Austin, the Scientific Working group was established looking into how scientific organisations can best make use of OpenStack clouds.</p>
</blockquote>

<p>… read more at <a href="http://tm3.org/6m">http://tm3.org/6m</a></p>

<p><strong>OpenStack Summit Austin: Day 4</strong> by Gordon Tillmore</p>

<blockquote>
  <p>Hello again from Austin, Texas where the fourth day of the main OpenStack Summit has come to a close. While there are quite a few working sessions and contributor meet-ups on Friday, Thursday marks the last official day of the main summit event. The exhibition hall closed its doors around lunch time, and the last of the vendor sessions occurred later in the afternoon. As the day concluded, many attendees were already discussing travel plans for OpenStack Summit Barcelona in October!</p>
</blockquote>

<p>… read more at <a href="http://tm3.org/6n">http://tm3.org/6n</a></p>

<p><strong>OpenStack Summit Newton from a Telemetry point of view</strong> by Julien Danjou</p>

<blockquote>
  <p>It's again that time of the year, where we all fly out to a different country to chat about OpenStack and what we'll do during the next 6 months. This time, it was in Austin, TX and we chatted about the new Newton release that will be out in October.</p>
</blockquote>

<p>… read more at <a href="http://tm3.org/6o">http://tm3.org/6o</a></p>

<p><strong>Identity work for the OpenStack Newton release</strong> by Adam Young</p>

<blockquote>
  <p>The Newton Summit is behind us, and we have six months to prepare for the next release in both upstream OpenStack and RDO. Here is my attempt to build a prioritized list of the large tasks I want to tackle in this release.</p>
</blockquote>

<p>… read more at <a href="http://tm3.org/6p">http://tm3.org/6p</a></p>

<p><strong>Mitaka Cinder Recap sessions</strong> by Gorka Eguileor</p>

<blockquote>
  <p>During Mitaka we introduced some big changes in Cinder that have a great impact for developers working on new and existing functionality. These new features include, but are not limited to, API microversions, support for Rolling Upgrades, and conditional DB update functionality to remove API races. So we decided to have Recap Sessions during the OpenStack Summit in Austin.</p>
</blockquote>

<p>… read more at <a href="http://tm3.org/6q">http://tm3.org/6q</a></p>

<p><strong>Analysis of techniques for ensuring migration completion with KVM</strong> by Daniel Berrange</p>

<blockquote>
  <p>Live migration is a long standing feature in QEMU/KVM (and other competing virtualization platforms), however, by default it does not cope very well with guests whose workload are very memory write intensive. It is very easy to create a guest workload that will ensure a migration will never complete in its default configuration. For example, a guest which continually writes to each byte in a 1 GB region of RAM will never successfully migrate over a 1Gb/sec NIC. Even with a 10Gb/s NIC, a slightly larger guest can dirty memory fast enough to prevent completion without an unacceptably large downtime at switchover. Thus over the years, a number of optional features have been developed for QEMU with the aim to helping migration to complete.</p>
</blockquote>

<p>… read more at <a href="http://tm3.org/6r">http://tm3.org/6r</a></p>

<p><strong>What did everyone do for the Mitaka release of OpenStack ?</strong> by David Moreau Dimard</p>

<blockquote>
  <p>Just what did everyone do for the Mitaka OpenStack release ?
RDO community liaison Rich Bowen went to find out.
He interviewed some developers and engineers that worked on OpenStack and RDO throughout the Mitaka cycle and asked them what they did and what they were up to for the Newton cycle.</p>
</blockquote>

<p>… read more at <a href="http://tm3.org/6s">http://tm3.org/6s</a></p>


<a class="more-link view-article" href="/blog/2016/05/rdo-blogs-over-the-last-few-weeks/">View article &raquo;</a>
</section>
<footer class='post-meta'>
<div class='tags'>
Tags:
<ul class='taglist'></ul>
<li><a href="/blog/tag/blogs/">blogs</a></li>
<li><a href="/blog/tag/openstack/">openstack</a></li>
</div>
</footer>
</article>

<article class='post hentry'>
<header class='post-header'>
<h2 class='post-title entry-title'>
<a href="/blog/2016/05/what-did-you-do-in-mitaka-adam-young/">What did you do in Mitaka? Adam Young</a>
</h2>
<header class='post-meta'>
<span class='byline'>
by
<span class='author vcard'>
<a href="/blog/author/rbowen/">Rich Bowen</a>
</span>
</span>
&ndash;
<time class='published' datetime='2016-05-06T20:08:42Z'>
Friday  6 May
</time>
</header>
</header>
<section class='post-content entry-content'>
<p>In this installment of our "What did you do in Mitaka" series, I speak to Adam Young about Keystone.</p>

<iframe src="https://www.podbean.com/media/player/jf485-5f1716?from=yiiadmin" data-link="https://www.podbean.com/media/player/jf485-5f1716?from=yiiadmin" height="100" width="100%" frameborder="0" scrolling="no" data-name="pb-iframe-player"></iframe>

<p>(If the above player doesn't work for you, please download the audio <a href="https://rdocommunity.podbean.com/mf/play/uq6sgx/adam-young-mitaka.mp3">HERE</a>.)</p>

<p><strong>Rich</strong>: I'm speaking with <a href="http://adam.younglogic.com/">Adam Young</a> , who's been working on the <a href="http://docs.openstack.org/developer/keystone/">Keystone</a>
project for the last 4 years or so.</p>

<p>So, Adam, what did you do in Mitaka?</p>

<p><strong>Adam</strong>: This release, I finally got a couple key features into Keystone
for dealing with some security issues that have bothered me for a
while. The biggest one is the ability to deal with admin - the fact
that if you're admin somewhere you end up being admin everywhere.</p>

<p>This is bug <a href="https://bugs.launchpad.net/keystone/+bug/968696">968696</a>. Yes, I have the number [memorized]. I even had
tshirts made up for it. We're finally closing that bug. Although
closing it properly will take several releases.</p>

<p>The issue with bug 968696 is that we have no way of splitting out what
certain APIs are that are supposed to be admin-specific. Like, you can
see that there's a difference between adding a new hypervisor, and
going into a project and creating a virtual machine. They are
different levels of administration. There are certain APIs that need
to have admin, that are really project-scope things. Things like
adding a user to a project - role assignment - that's admin level at
the project, as opposed to admin level at the overall service.</p>

<p>So what we did is we put a config option in Keystone which lets you
say that a certain project is the adminstrative project. Tokens that
are issued for a user that are scoped to that project have an
additional field on them. is_admin_project. This can be enforced in
policy across OpenStack. It does mean that we need to rewrite the
policy files. We knew this was going to be a long slog.</p>

<p>There's a way of now being able to say on a given policy rule, this is
not just that they have to have the admin role, but that they have to
have the admin role on a project that's considered the admin project.</p>

<p>It also allows you to say, if I have admin on the admin project, I can
go into a non-admin project, and do these administrative type things.
But somebody who is admin on some other common project, some other
regular project, does not have the ability to do that. So the projects
continue to be the main scoping for access control, but we have this
level of defining things to be cloud- or service-level administration.</p>

<p>So that was one of the big ones. We'll continue to drive on with using
that - making that policy change throughout Nova, Glance, and the
rest, because if they're not enforcing it, then it is still a global
admin. So there's more work to be done there.</p>

<p>The other big feature falls into a similar type of problem-set, which
is, roles are very, very coarse grained. If you look at the early days
of OpenStack, there really was only one role, which was admin. And
then everybody else was a member of a project.</p>

<p>By the time I started, which was four years ago, there already was the
idea that a role assignment was for a role on a project. Role
assignments were no longer global, even though they had been in the
past. A lot of people still kept treating them like they were global
things, but the mechanism scoped it to a project. What we wanted to be
able to is say, I want to be able to have a different role for
different operations - different workflows. So that I can assign small
things, and I can delegate smaller pieces of what I need to do to a
user.</p>

<p>A good example is that I might not want somebody to be able to create
a virtual machine, or some offline service to be able to create a
virtual machine on by behalf, but I want them to be able to reboot one
of mine. They can monitor, and if it locks up they should be able to
reboot that virtual machine.</p>

<p>So what we have is this concept of an implied role, or role inference
rule.</p>

<p>The first one, and the example that everyone kind of gets is, if I'm
an admin on a project, I should be a member on that project. So now,
when I have a token and I reqest admin on there, I will see both the
admin role and the member role inside that project, even if I don't
have the member role explicitly assigned to me.</p>

<p>Now in the API I could specify, you only need the member role to do
this. So now we've just made it easier to roll up finer-grained
permissions to a more coarse-grained role assignment.</p>

<p>This, it turned out, was a feature that somebody else could use to
implement something they were talking about doing. <a href="http://stackalytics.com/report/users/henry-nash">Henry Nash</a>, who
works at IBM, had this proposal for domain-specific roles. He wanted
to be able to have somebody who's in some organization, specify what
the name of the role was that they gave to people, and it also
included a subset of what the person could do there.</p>

<p>I said, that really sounds like a role inference rule, but one where
a) the top-level name is assigned by somebody who's not a global cloud
administrator, the domain administrator, and b) it doesn't show up in
the token. I don't want domain-specific roles to be something that
people are enforcing policy on. I want it to be [only enforce on] the global roles.</p>

<p>So we worked together and came up with this idea that we get implied
roles in first, and then we would build the domain-specific roles on
top of that.</p>

<p>It took a lot of collaboration - a lot of arguing and a lot of
understanding … to explain to the other person what our problems
were, and coming to the idea that a very elegant mechanism here could
be the baseline for both features.</p>

<p>So we're presenting on both of those things together, actually, on
Tuesday at Summit. (OpenStack Summit, Austin - <a href="https://www.openstack.org/videos/video/advances-in-keystones-role-based-access-control">video here</a> ) The Nash and Young
reunion tour. We couldn't get either <a href="https://en.wikipedia.org/wiki/Crosby,_Stills,_Nash_%26_Young">Stills or Crosby</a> to show up.</p>

<p>Beyond that, Keystone is, as somebody once described it, performance
art. Getting Keystone features in requires a lot of discussion. It's
really fundamental to OpenStack that Keystone just work.</p>

<p>A lot of people will file bugs against Keystone, because it's the
first thing that reports a failure. Or someone reports a failure
trying to talk to Keystone. So a lot of time has been spent in
troubleshooting other people's problems, connectivity problems,
configuration problems, and getting it so that they understand, yes,
you can't talk to Keystone, but it's because you have not configured
your service to talk to Keystone.</p>

<p>And one of the big victories that we had is that a whole class of
errors that we had were due to threading issues in eventlet, and
eventlet is dead. Eventlet has been deprecated for a while. In
TripleO we have it so that Keystone is not being deployed in eventlet
any more. This means that we don't have the threading issues there.</p>

<p>A big lesson that we've learned is that the cloud deployer does not
necessarily own the user database. And for large organizations, there
already is a well-established user database, and so we want to reuse
… a lot of people point to stuff like Facebook, and Google, and
LinkedIn, as public authentication services now. OpenID, OAuth, and
all those, are protocols that make it possible to consume these big
databases of identity, and then you can use your same credentials that
you use to talk to Facebook, to talk to your apps.</p>

<p>Well, this same pattern happens a lot inside the enterprise, and in
fact it's the norm. It's called Single Sign On, and a lot of people
want it. And pushing Single Sign On technologies, and making those
work within Keystone has been a long-running task.</p>

<p>There's been a lot of LDAP debugging. It's still one of the main pain
points for people. LDAP is a primary tool for most large organizations
for managing the users. The D in there stands for Directory and it's
user directory for large organizations. A lot of people have to make
it work with Active Directory, Microsoft being so dominant in the
enterprise, and Active Directory being their solution for that has
made it a pain point. So one of the big things we've been trying to do
is make that integrate in better with existing deployments.</p>

<p>Over multiple releases we had this idea that first you had one
monolithic identity back-end. And then we split that out into two
pieces, one which was the identity, the users and the groups, and the
other which was the assignment - what roles you had on each project.</p>

<p>Now that we can vary those two things differently, what we started
doing is saying, how about having multiple things on that identity
side? Federation kind of works in there but before that we actually
said you could have SQL back your user database, and that would be your
basic install. All the service users for Keystone, and Nova and so on
would be put in there, and then let's make a separate domain and put
LDAP in there. So the big push has been to do that.</p>

<p>Well it turns out that in order to do that we need everybody to use
the Keystone V3 API, because they need domain support. Specifically
internally, the different services need to do this.</p>

<p>A lot of people have helped make this happen. This has been a
multi-project effort because not only do we need to solve it within
all the Keystone components, but then there are places where one
service calls into another and needs to authenticate with Keystone and
those calls there are calling through client network access.</p>

<p>So we're finally at a place where V3 Keystone API everywhere is a
reality, or can be a reality, and so getting the pain of LDAP into its
own domain has been an ongoing theme here. I really feel it's going to
make things work the way people want them to work.</p>

<p>One of the nice benefits of this, especially for new deployments, is
they no longer have to put service users into LDAP. This was a
dealbreaker for a lot of people. LDAP is a read-only resource. If,
say, the OpenStack user does not own the user database, that includes
service users. So being able to have service users in a small database
inside Keystone, and have consume the rest of the identity from LDAP
has always been the dream.</p>

<p>Keystone moves very slowly. It's a very cautious project, and it has
to be.</p>

<p><strong>Rich</strong>: Because it has to just work.</p>

<p>Adam: It has to just work, and it's the target for security. If you
can hack Keystone, then you have access to the entire cloud. And if
you're using LDAP, you have the potential to provide access to things
beyond the cloud.</p>

<p><strong>R</strong>: Tell me about some things that are coming in upcoming releases.</p>

<p><strong>A</strong>: One that I'm looking forward to in Newton is the ability to unify
all the delegation mechanisms. What we're doing with <a href="https://wiki.openstack.org/wiki/Keystone/Trusts">trusts</a>, which is
something I built specifically for Heat a couple of releases ago, and
have taken on this way of a user being able to delegate another user a
subset of their permissions, and to be able to delegate the ability
to delegate. You don't have to be an admin in order to create some
sort of delegation, but you can be an everyday user and hand off, to
maybe a scheduled task, to do something on your behalf, at midnight
when you're on vacation.</p>

<p>The other one that I'm really looking forward to trying to drive on is
the adoption of <a href="http://dolphm.com/openstack-keystone-fernet-tokens/">Fernet</a>. We were hoping to get that into the Mitaka
release. Fernet is in there, but trying to make it the default.</p>

<p>Fernet is an ephemeral token. The way that tokens work with Keystone
now … it's a UUID. It's a claim check that you can hand to somebody
and they can go back to Keystone, assuming they have authority to do
this, and say, what data is associated with this token?</p>

<p>Well, Keystone has to record that.</p>

<p>If you have two different Keystone servers, and they're both issuing
out tokens, they have to talk to the same database. Because I might
get one issued from one, and go to a different one to validate it.</p>

<p>This is a scalability issue.</p>

<p>PKI tokens, which I wrote many releases ago, were a first attempt to
deal with this, because you could have different signers. But PKI
tokens had a lot of problems. <a href="https://www.youtube.com/watch?v=702SRZHdNW8">Dolph and
Lance</a>, who are
Rackspacers, who have been long-term contributors, came up with this
implementation called Fernet tokens. The idea is that you use
symmetric cryptography. You take the absolute minimal amount of data
you need to reconstitute the token and you sign it. Now, the Keystone
server is the only thing that has this key. So that means it's the
only thing that can decrypt it. So you still need to pass the token
back to Keystone to validate it, but Keystone no longer has to go to a
database to look this up. It can now take the Fernet token itself, and
say here's what it means. And if you have two different Keystone
servers, and they share keys, you can get one issued from one, and
have the other one validate it for you.</p>

<p><strong>R</strong>: Well, thank you again for taking the time to do this.</p>

<p><strong>A</strong>: My pleasure.</p>

<a class="more-link view-article" href="/blog/2016/05/what-did-you-do-in-mitaka-adam-young/">View article &raquo;</a>
</section>
<footer class='post-meta'>
</footer>
</article>

<article class='post hentry'>
<header class='post-header'>
<h2 class='post-title entry-title'>
<a href="/blog/2016/05/what-did-you-do-in-mitaka-david-moreau-simard/">What did you do in Mitaka? David Moreau Simard</a>
</h2>
<header class='post-meta'>
<span class='byline'>
by
<span class='author vcard'>
<a href="/blog/author/rbowen/">Rich Bowen</a>
</span>
</span>
&ndash;
<time class='published' datetime='2016-05-06T13:47:48Z'>
Friday  6 May
</time>
</header>
</header>
<section class='post-content entry-content'>
<p>Continuing our series "What Did You Do In Mitaka?", I spoke with David Moreau Simard.</p>

<iframe src="https://www.podbean.com/media/player/zqt2x-5f14b4?from=yiiadmin" data-link="https://www.podbean.com/media/player/zqt2x-5f14b4?from=yiiadmin" height="100" width="100%" frameborder="0" scrolling="no" data-name="pb-iframe-player"></iframe>

<p><em>(If the above player doesn't work for you, please download the recording <a href="https://rdocommunity.podbean.com/mf/play/qp7cm4/david-simard.mp3">HERE</a>.)</em></p>

<p><strong>Rich</strong>: I'm speaking with <a href="https://github.com/dmsimard">David Moreau Simard</a>, who is one of the engineers
who works on <a href="//rdoproject.org">RDO</a> at Red Hat. Thanks for taking time to speak with me.</p>

<p><strong>DMSimard</strong>: It's a pleasure</p>

<p><strong>R</strong>: What did you work on in Mitaka?</p>

<p><strong>D</strong>: I'm part of the RDO engineering team at Red Hat.
My role is mostly around continuous integration and making sure that
RDO works.
This means that some days I could be implementing new ways of testing
RDO or some other days fixing bugs identified by our CI.</p>

<p>As far as Mitaka is concerned, we got Packstack to a point where it's
able to install and run Tempest against itself.
This is awesome because it's a great way to make sure everything works
properly, sort of a sanity check.</p>

<p>This improvement allowed us to make Packstack gate against itself
upstream to prevent regressions from merging by testing each commit.
This was part of a plan to make Packstack part of our testing
pipeline.</p>

<p>In Mitaka, we started using a new project called <a href="https://dmsimard.com/2015/12/07/thinking-outside-the-box-and-outside-the-gate-to-improve-openstack-and-rdo/">WeIRDO</a>.
It's meant to use upstream gate integration tests inside our own RDO
testing pipeline.
We really improved our testing coverage in Mitaka with TripleO
quickstart and WeIRDO.
With WeIRDO, we're able to easily test RDO trunk packages against
Packstack and Puppet-OpenStack and the jobs that they provide.</p>

<p>We built a great relationship with projects that consume RDO packages
throughout development cycles.
We mutually benefit from essentially testing each other. So it makes a
lot of sense to stay in touch with these guys.</p>

<p>Overall, I can really tell how the testing coverage for RDO has
improved tremendously, even since liberty.
Mitaka is really the best and most tested release of RDO yet. I want
to extend my thanks to everyone that was involved in making it happen.</p>

<p><strong>R</strong>: So how about in Newton? What do you think is coming in Newton for
you?</p>

<p><strong>D</strong>: So, Mitaka was already an awesome cycle from the perspective of
testing coverage that we had for RDO.
We want to keep working on that foundation to increase the coverage
further.
I also want to spend some time on improving monitoring and automation
to make troubleshooting problems easier.</p>

<p>Trunk breaks all the time, and so it takes a lot of time to
troublshoot that, and we want to make that easier. But also have
visibility into the problems that could be coming.</p>

<p>Earlier I talked about WeIRDO and how we use upstream gate jobs in our
testing pipeline.
In Newton, we want to add Kolla back into our testing pipeline through
WeIRDO.
I had some issues getting Kolla to work reliably in Mitaka but they've
fixed some problems upstream since then so we'll take another look at
it.</p>

<p>Just recently, there's also the Chef OpenStack community – they've been working on
integration testing their cookbooks in the gate.
I'm definitely interested in seeing what they have, and possibly leveraging their work once they're ready.</p>

<p>The other large chunk of work will probably come from our effort in
streamlining and centralizing the different components of RDO.
Right now, we're a bit all over the place… But we've already started
working towards moving to a software factory instance.
Software factory is a project to provide upstream's testing ecosystem
with Git, Zuul, Nodepool, Gerrit and Jenkins.. but in a box, an
appliance.</p>

<p>This will definitely make things easier for everyone since everything
from RDO will be expected to be in this one place.</p>

<p><strong>R</strong>: Thank you very much for your time.</p>

<p><strong>D</strong>: I appreciate yours, and it was great working on this great release.</p>

<p><em>David is dmsimard on <a href="http://twitter.com/dmsimard">Twitter</a>, 
<a href="https://github.com/dmsimard">github</a>, and on IRC.</em></p>

<a class="more-link view-article" href="/blog/2016/05/what-did-you-do-in-mitaka-david-moreau-simard/">View article &raquo;</a>
</section>
<footer class='post-meta'>
<div class='tags'>
Tags:
<ul class='taglist'></ul>
<li><a href="/blog/tag/dmsimard/">dmsimard</a></li>
<li><a href="/blog/tag/mitaka/">mitaka</a></li>
<li><a href="/blog/tag/openstack/">openstack</a></li>
<li><a href="/blog/tag/release/">release</a></li>
</div>
</footer>
</article>

<ul class='pagination'>
<li class='active'>
<span>1</span>
</li>
<li>
<a href="/blog/page=2/">2</a>
</li>
<li>
<a href="/blog/page=3/">3</a>
</li>
<li>
<a href="/blog/page=4/">4</a>
</li>
<li>
<a href="/blog/page=5/">5</a>
</li>
<li>
<a href="/blog/page=2/">Older</a>
</li>
</ul>

</section>

</section>

</div>
</section>

</section>
</section>
</section>
<footer class='text-center' id='footer'>
<hr class='visible-print'>
<div class='footer-rdo'>
<dl>
  <dt>Docs</dt>
  <dd><a href="/install/quickstart">Download</a></dd>
  <dd><a href="/rdo/faq">Common questions</a></dd>
  <dd><a href="/troubleshooting/">Troubleshooting</a></dd>
  <dd><a href="/rdo/">About RDO</a></dd>
</dl>

<dl>
  <dt>Use RDO</dt>
  <dd><a href="/install/quickstart">Quickstart</a></dd>
  <dd><a href="/rdo/release-cadence">Releases</a></dd>
  <dd><a href="http://trunk.rdoproject.org/">Trunk builds</a></dd>
</dl>

<dl>
  <dt>Community</dt>
  <dd><a href="/community/">Participate</a></dd>
  <dd><a href="http://ask.rdoproject.org/">Ask (Q&amp;A)</a></dd>
  <dd><a href="https://bugzilla.redhat.com/buglist.cgi?product=RDO&amp;query_format=advanced&amp;bug_status=NEW&amp;bug_status=ASSIGNED">Browse open issues</a></dd>
  <dd><a href="https://bugzilla.redhat.com/enter_bug.cgi?product=RDO">Report a problem</a></dd>
</dl>

<dl>
  <dt>Support</dt>
  <dd><a href="https://access.redhat.com/products/red-hat-openstack-platform/">Red Hat OpenStack Platform</a></dd>
  <dd><a href="https://www.redhat.com/mailman/listinfo/rdo-list">Contact us</a></dd>
</dl>

</div>

<ul class='footer-nav-list'>
<li><strong>RDO</strong> is a <strong>Red Hat</strong>-sponsored community project</li>
</ul>

<div class='copyright'>
&copy; 2016 RDO
<span class='legal'><a href="/legal/">Legal & Privacy</a></span>
</div>
<div class='edit-this-page'>
<a target="_blank" href="https://github.com/redhat-openstack/website/edit/master/source/blog.html.haml"><i class="icon fa fa-pencil"></i>Edit this page on GitHub</a>
</div>
<div class='last-modified'>
Page last modified
Thu 7 Jan 2016 19:41 UTC
</div>
</footer>


<script src="/javascripts/application.js" type="text/javascript"></script>

<!-- begin eloqua tracking -->
<script language='JavaScript' src='//www.redhat.com/j/elqNow/elqCfg.js' type='text/javascript'></script>
<script language='JavaScript' src='//www.redhat.com/j/elqNow/elqImg.js' type='text/javascript'></script>
<!-- end eloqua tracking -->
<!-- begin Omniture tracking -->
<!--
SiteCatalyst code version: H.25.4
Copyright 1996-2013 Adobe, Inc. All Rights Reserved
More info available at http://www.omniture.com
-->
<div id='oTags'>
<script src='//www.redhat.com/assets/js/noncms_s_code.js' type='text/javascript'></script>
<script>
   /* You may give each page an identifying name, server, and channel on the next lines. */
   var coreUrl = encodeURI(document.URL.split("?")[0]);
   var urlSplit = coreUrl.toLowerCase().split(/\//);
   var urlLast = urlSplit[urlSplit.length-1];
   var pageNameString = "";
   var minorSectionIndex = 3;
   if (urlSplit[3] == "promo") {
     minorSectionIndex = 4;
   }
   if (urlLast == "") {
     urlSplit.splice(-1,1);
   }
   if (urlLast.search(/\./) >= 0) {
     if (urlLast == "index.html" || urlLast == "index.php") {
       urlSplit.splice(-1,1);
     } else {
       urlSplit[urlSplit.length-1] = urlLast.split(".").splice(0,1);
     }
   }
   s.prop14 = s.eVar27 = "rdo";
   s.prop15 = s.eVar28 = urlSplit[minorSectionIndex] || "";
   s.prop16 = s.eVar29 = urlSplit[minorSectionIndex+1] || "";
   pageNameString = urlSplit.splice(3).join(" | ");
   s.pageName = "rh | microsite | rdo | " + pageNameString;
   s.channel = "microsite";
   s.prop4 = s.eVar23 = encodeURI(document.URL);
   s.prop21 = s.eVar18 = coreUrl;
   s.prop2 = s.eVar22 = "en";
</script>
<script src='//www.redhat.com/j/rh_omni_footer.js' type='text/javascript'></script>
<script>
   if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
</script>
<noscript>
<a href='http://www.omniture.com' title='Web Analytics'>
<img alt='' border='0' height='1' src='https://smtrcs.redhat.com/b/ss/redhatcom,redhatglobal/1/H.25.4--NS/0?[AQB]=3[AQE]' width='1'>
</a>
</noscript>
</div>
<!-- /DO NOT REMOVE/ -->
<!-- End SiteCatalyst code version: H.25.4 -->
<!-- End Omniture tracking -->

</body>
</html>
