<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie10 lt-ie9 lt-ie8 lt-ie7" lang="en-us"> <![endif]-->
<!--[if IE 7]> <html class="no-js lt-ie10 lt-ie9 lt-ie8" lang="en-us"> <![endif]-->
<!--[if IE 8]> <html class="no-js lt-ie10 lt-ie9" lang="en-us"> <![endif]-->
<!--[if IE 9]> <html class="no-js lt-ie10 lt-ie9" lang="en-us"> <![endif]-->
<!--[if lt IE 10]> <html class="no-js lt-ie10" lang="en-us"> <![endif]-->
<!--[if !IE]> > <![endif]-->
<html class='no-js' lang='en'>
<!-- <![endif] -->
<head>
<title>
RDO Community News &mdash;
RDO
</title>
<meta charset='utf-8'>
<meta content='' name='description'>
<meta content='' name='author'>
<meta content='initial-scale=1.0,user-scalable=no,maximum-scale=1,width=device-width' name='viewport'>

<link href='/images/favicon.ico' rel='shortcut icon'>
<link href='/images/apple-touch-icon-precomposed.png' rel='apple-touch-icon-precomposed'>
<link href='/images/apple-touch-icon-57x57-precomposed.png' rel='apple-touch-icon-precomposed' sizes='57x57'>
<link href='/images/apple-touch-icon-72x72-precomposed.png' rel='apple-touch-icon-precomposed' sizes='72x72'>
<link href='/images/apple-touch-icon-114x114-precomposed.png' rel='apple-touch-icon-precomposed' sizes='114x114'>
<link href="/stylesheets/application.css" rel="stylesheet" type="text/css" />
<link href="/stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
</head>
<body class=' source-haml'>
<header class='masthead hidden-print' id='branding' role='banner'>
<section class='hgroup'>
<h1>
<a href="/"><img id="logo" class="logo " alt="RDO" src="/images/rdo-logo-white.png" />
</a></h1>
</section>
<div id='access'>
<nav role='navigation'>
<ul class='nav nav-pills'>
<li class='nav-link-home' role='menuitem'>
<a href='/'>Home</a>
</li>

<li class='nav-link-blog' role='menuitem'>
<a href='/blog/'>Blog</a>
</li>

<li class='nav-link-events' role='menuitem'>
<a href='/events/'>Events</a>
</li>

<li class='nav-link-community' role='menuitem'>
<a href='/community/'>Community</a>
</li>

<li class='nav-link-docs' role='menuitem'>
<a href='/documentation/'>Docs</a>
</li>

<li class='nav-link-search' role='menuitem'>
<a href='/search/'>Search</a>
</li>

</ul>
</nav>

</div>
</header>

<section class='page-wrap' id='page-wrap'>
<section class='page' id='page'>
<section class='container content' id='content'>

<!--[if lt IE 7]>
<p class="chromeframe">You are using an outdated browser.
<a href="http://browsehappy.com/">Upgrade your browser today</a> or
<a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to better experience this site.</p>
<![endif]-->
<section class='blog-post-page row'>
<div class='col-md-10 col-md-offset-1'>
<section class='blog-archive'>
<h2>RDO Community News</h2>
See also <a href="http://blogs.rdoproject.org">blogs.rdoproject.org</a>
<section class='articles'>
<article class='post hentry'>
<header class='post-header'>
<h2 class='post-title entry-title'>
<a href="/blog/2016/01/rdo-doc-day-and-test-day/">RDO doc day and test day</a>
</h2>
<header class='post-meta'>
<span class='byline'>
by
<span class='author vcard'>
<a href="/blog/author/rbowen/">Rich Bowen</a>
</span>
</span>
&ndash;
<time class='published' datetime='2016-01-07T19:30:02Z'>
Thursday  7 January
</time>
</header>
</header>
<section class='post-content entry-content'>
<p>With the Mitaka milestone 2 release due <a href="http://docs.openstack.org/releases/schedules/mitaka.html">very soon</a>, the RDO community
has two events in the coming days.</p>

<p>On January 20th/21st, we'll be focusing on improving the website and
documentation, to make it easier for people to get started with
OpenStack on CentOS. We'll be gathering on #rdo (on Freenode IRC) for
any associated questions/discussion, and working through the <a href="https://github.com/redhat-openstack/website/issues">open issues
list</a>.</p>

<p>On January 27th/28th, we'll be running a test day of the Mitaka
milestone 2 packages. Details of that test day will be <a href="https://www.rdoproject.org/testday/">on the test days page</a> in the coming days, along with
suggested test scenarios that we'd like to run through. Once again,
we'll be gathering on #rdo for this event.</p>

<p>We look forward to expanding the audience of these test days, and
thereby improve everyone's CentOS OpenStack experience. So please set
aside an hour or two to help us test. Thanks.</p>

<a class="more-link view-article" href="/blog/2016/01/rdo-doc-day-and-test-day/">View article &raquo;</a>
</section>
<footer class='post-meta'>
<div class='tags'>
Tags:
<ul class='taglist'></ul>
<li><a href="/blog/tag/openstack-mitaka/">openstack.mitaka</a></li>
<li><a href="/blog/tag/rdo/">rdo</a></li>
<li><a href="/blog/tag/test-documentation/">test.documentation</a></li>
</div>
</footer>
</article>

<article class='post hentry'>
<header class='post-header'>
<h2 class='post-title entry-title'>
<a href="/blog/2016/01/rdo-blog-roundup-jan-4-2016/">RDO blog roundup, Jan 4, 2016</a>
</h2>
<header class='post-meta'>
<span class='byline'>
by
<span class='author vcard'>
<a href="/blog/author/rbowen/">Rich Bowen</a>
</span>
</span>
&ndash;
<time class='published' datetime='2016-01-04T16:00:30Z'>
Monday  4 January
</time>
</header>
</header>
<section class='post-content entry-content'>
<p>Happy 2016! A lot of us have been out over the last few weeks, so the blog traffic has been very slow. We're looking forward to the coming months, as we work towards Mitaka.</p>

<p>Here's some of the blog posts you may have missed while you were enjoying your New Years celebration:</p>

<p><strong>Integrating classic IT with cloud-native</strong> by Gordon Haff</p>

<blockquote>
  <p>This is the fifth and final in a series of posts that delves deeper into the questions that IDC’s Mary Johnston Turner and Gary Chen considered in a recent IDC Analyst Connection. The fifth question asked:</p>
</blockquote>

<blockquote>
  <p>What types of technologies are available to facilitate the integration of multiple generations of infrastructure and applications as hybrid cloud-native and conventional architectures evolve?</p>
</blockquote>

<p>… read more at <a href="http://tm3.org/4e">http://tm3.org/4e</a></p>

<p><strong>RDO Community Day @ FOSDEM - Schedule announced</strong> by Rich Bowen</p>

<blockquote>
  <p>The schedule for RDO Community Day at FOSDEM is now available at https://www.rdoproject.org/events/rdo-day-fosdem-2016/. Exact times are not confirmed, but we should have those in the next few days.</p>
</blockquote>

<p>… read more at <a href="http://tm3.org/4f">http://tm3.org/4f</a></p>

<p><strong>Ceph single node deployment on Fedora 23</strong> by Daniel P. Berrangé</p>

<blockquote>
  <p>A little while back Cole documented a minimal ceph deployment on Fedora. Unfortunately, since then the ‘mkcephfs’ command has been dropped in favour of the ‘ceph-deploy’ tool. There’s various other blog posts talking about ceph-deploy, but none of them had quite the right set of commands to get a working single node deployment – the status would always end up in “HEALTH_WARN” which is pretty much an error state for ceph. After much trial &amp; error I finally figured out the steps that work on Fedora 23.</p>
</blockquote>

<p>… read more at <a href="http://tm3.org/4g">http://tm3.org/4g</a></p>


<a class="more-link view-article" href="/blog/2016/01/rdo-blog-roundup-jan-4-2016/">View article &raquo;</a>
</section>
<footer class='post-meta'>
<div class='tags'>
Tags:
<ul class='taglist'></ul>
<li><a href="/blog/tag/blog/">blog</a></li>
<li><a href="/blog/tag/openstack/">openstack</a></li>
</div>
</footer>
</article>

<article class='post hentry'>
<header class='post-header'>
<h2 class='post-title entry-title'>
<a href="/blog/2015/12/rdo-community-day-fosdem-schedule-announced/">RDO Community Day @ FOSDEM - Schedule announced</a>
</h2>
<header class='post-meta'>
<span class='byline'>
by
<span class='author vcard'>
<a href="/blog/author/rbowen/">Rich Bowen</a>
</span>
</span>
&ndash;
<time class='published' datetime='2015-12-15T21:29:37Z'>
Tuesday 15 December 2015
</time>
</header>
</header>
<section class='post-content entry-content'>
<p>The schedule for RDO Community Day at FOSDEM is now available at <a href="https://www.rdoproject.org/events/rdo-day-fosdem-2016/">https://www.rdoproject.org/events/rdo-day-fosdem-2016/</a>. Exact times are not confirmed, but we should have those in the next few days.</p>

<p>The RDO Community day is colocated with the <a href="https://wiki.centos.org/Events/Dojo/Brussels2016">CentOS Dojo</a>, which should also be announcing their schedule in the coming week, featuring a Sysadmin track and a Developer track.</p>

<p>Lunch is provided.</p>

<p>Although attendance is free, you must <a href="https://www.eventbrite.co.uk/e/centos-dojo-brussels-belgium-jan-29th-2016-tickets-19589843750">register at Eventbright</a> both so that we know how many lunches we need to provide, and also to ensure that the door guards will grant you entrance to the facility when you arrive.</p>

<p>We are excited about this event, and look forward to seeing you there.</p>

<a class="more-link view-article" href="/blog/2015/12/rdo-community-day-fosdem-schedule-announced/">View article &raquo;</a>
</section>
<footer class='post-meta'>
</footer>
</article>

<article class='post hentry'>
<header class='post-header'>
<h2 class='post-title entry-title'>
<a href="/blog/2015/12/rdo-blog-roundup-week-of-december-14/">RDO blog roundup, week of December 14</a>
</h2>
<header class='post-meta'>
<span class='byline'>
by
<span class='author vcard'>
<a href="/blog/author/rbowen/">Rich Bowen</a>
</span>
</span>
&ndash;
<time class='published' datetime='2015-12-14T15:53:56Z'>
Monday 14 December 2015
</time>
</header>
</header>
<section class='post-content entry-content'>
<p>Here's what RDO enthusiasts were blogging about last week.</p>

<p><strong>Asking Me Questions about Keystone</strong>, by Adam Young</p>

<blockquote>
  <p>As many of you have found out, I am relatively willing to help people out with Keystone related questions. Here are a couple guidelines.</p>
</blockquote>

<p>… read more at <a href="http://tm3.org/47">http://tm3.org/47</a></p>

<p><strong>Setting up a local caching proxy for Fedora YUM repositories</strong>, by Daniel Berrange</p>

<blockquote>
  <p>For my day-to-day development work I currently have four separate physical servers, one old x86_64 server for file storage, two new x86_64 servers and one new aarch64 server. Even with a fast fibre internet connection, downloading the never ending stream of Fedora RPM updates takes non-negligible time. I also have cause to install distro chroots on a reasonably frequent basis for testing various things related to containers &amp; virtualization, which involves yet more RPM downloads. So I decided it was time to investigate the setup of a local caching proxy for Fedora YUM repositories. I could have figured this out myself, but I fortunately knew that Matthew Booth had already setup exactly the kind of system I wanted, and he shared the necessary config steps that are outlined below.</p>
</blockquote>

<p>… read more at <a href="http://tm3.org/48">http://tm3.org/48</a></p>

<p><strong>Why cloud-native depends on modernization</strong> by Gordon Haff</p>

<blockquote>
  <p>This is the fourth in a series of posts that delves deeper into the questions that IDC’s Mary Johnston Turner and Gary Chen considered in a recent IDC Analyst Connection. The fourth question asked: What about existing conventional applications and infrastructure? Is it worth the time and effort to continue to modernize and upgrade conventional systems?</p>
</blockquote>

<p>… read more at <a href="http://tm3.org/49">http://tm3.org/49</a></p>

<p><strong>HA for Tripleo</strong>, by Adam Young</p>

<blockquote>
  <p>Juan Antonio Osorio Robles was instrumental in me getting Tripelo up and running. He sent me the following response, which he’s graciously allowed me to share with you.</p>
</blockquote>

<p>… read more at <a href="http://tm3.org/4a">http://tm3.org/4a</a></p>

<p><strong>New Neutron testing guidelines!</strong>, by Addaf Muller</p>

<blockquote>
  <p>Yesterday we merged https://review.openstack.org/#/c/245984/ which adds content to the Neutron testing guidelines:</p>
</blockquote>

<p>… read more at <a href="http://tm3.org/4b">http://tm3.org/4b</a></p>

<p><strong>Rippowam</strong>, by Adam Young</p>

<blockquote>
  <p>Ossipee started off as OS-IPA. As it morphed into a tool for building development clusters,I realized it was more useful to split the building of the cluster from the Install and configuration of the application on that cluster. To install IPA and OpenStack, and integrate them together, we now use an ansible-playbook called Rippowam.</p>
</blockquote>

<p>… read more at <a href="http://tm3.org/4c">http://tm3.org/4c</a></p>

<p>**In-use Volume Backups in Cinder ** by Gorka Eguileor</p>

<blockquote>
  <p>Prior to the Liberty release of OpenStack, Cinder backup functionality was limited to available volumes; but in the latest L release, the possibility to create backups of in-use volumes was added, so let’s have a look into how this is done inside Cinder.</p>
</blockquote>

<p>… read more at <a href="http://tm3.org/4d">http://tm3.org/4d</a></p>


<a class="more-link view-article" href="/blog/2015/12/rdo-blog-roundup-week-of-december-14/">View article &raquo;</a>
</section>
<footer class='post-meta'>
<div class='tags'>
Tags:
<ul class='taglist'></ul>
<li><a href="/blog/tag/blog/">blog</a></li>
<li><a href="/blog/tag/openstack/">openstack</a></li>
<li><a href="/blog/tag/rdo/">rdo</a></li>
</div>
</footer>
</article>

<article class='post hentry'>
<header class='post-header'>
<h2 class='post-title entry-title'>
<a href="/blog/2015/12/rdo-blog-roundup-week-of-december-8/">RDO blog roundup, week of December 8</a>
</h2>
<header class='post-meta'>
<span class='byline'>
by
<span class='author vcard'>
<a href="/blog/author/rbowen/">Rich Bowen</a>
</span>
</span>
&ndash;
<time class='published' datetime='2015-12-08T13:45:41Z'>
Tuesday  8 December 2015
</time>
</header>
</header>
<section class='post-content entry-content'>
<p>After a really quiet week last week, we have a lot of great blog posts this week.</p>

<p><strong>Our cloud in Kilo</strong>, by Tim Bell</p>

<blockquote>
  <p>Following on from previous upgrades, CERN migrated the OpenStack cloud to Kilo during September to November. Along with the bug fixes, we are planning on exploiting the significant number of new features, especially as related to performance tuning. The overall cloud architecture was covered at the Tokyo OpenStack summit video https://www.openstack.org/summit/tokyo-2015/videos/presentation/unveiling-cern-cloud-architecture.</p>
</blockquote>

<p>… read more at <a href="http://tm3.org/41">http://tm3.org/41</a></p>

<p><strong>Evolving IT architectures: It can be hard</strong>, by Gordon Haff</p>

<blockquote>
  <p>This is the second in a series of posts that delves deeper into the questions that IDC’s Mary Johnston Turner and Gary Chen considered in a recent IDC Analyst Connection. The second question asked: What are the typical challenges that organizations need to address as part of this evolution [to IT that at least includes a strong cloud-native component]?</p>
</blockquote>

<p>… read more at <a href="http://tm3.org/42">http://tm3.org/42</a></p>

<p><strong>How cloud-native needs cultural change</strong>, by Gordon Haff</p>

<blockquote>
  <p>This is the third in a series of posts that delves deeper into the questions that IDC’s Mary Johnston Turner and Gary Chen considered in a recent IDC Analyst Connection. The third question asked: How will IT management skills, tools, and processes need to change [with the introduction of cloud-native architectures]?</p>
</blockquote>

<p>… read more at <a href="http://tm3.org/43">http://tm3.org/43</a></p>

<p><strong>Getting Started with Tripleo</strong> by Adam Young</p>

<blockquote>
  <p>OpenStack is big. I’ve been focused on my little corner of it, Keystone, for a long time. Now, it is time for me to help out with some of the more downstream aspects of configuring RDO deployments. In order to do so, I need to do an RDO deployment. Until recently, this has meant Packstack. However, Packstack really is not meant for production deployments. RDO manager is the right tool for that. So, I am gearing up on RDO manager. The upstream of RDO Manager is TripleO.</p>
</blockquote>

<p>… read more at <a href="http://tm3.org/44">http://tm3.org/44</a></p>

<p><strong>Testing OpenStack is hard</strong> by David Moreau Simard</p>

<blockquote>
  <p>Testing OpenStack is hard
There is currently almost 50 official OpenStack projects
There is over 1000 source and binary packages built and provided by the official RDO repositories
These packages are bundled, integrated or provided by many different installers and vendors
There are countless deployment use cases ranging from simple private clouds to large scale complex and highly available public clouds</p>
</blockquote>

<p>… read more at <a href="http://tm3.org/45">http://tm3.org/45</a></p>

<p><strong>Thinking outside the box and outside the gate to improve OpenStack and RDO</strong> by David Moreau Simard</p>

<blockquote>
  <p>I recently explained how testing everything in OpenStack is hard. The reality is that the RDO community has finite resources. Testing everything is not just hard, it’s time consuming and expensive. I’ve been thinking a lot about how to tackle this and experimented around ways to improve our test coverage in this context.</p>
</blockquote>

<p>… read more at <a href="http://tm3.org/46">http://tm3.org/46</a></p>


<a class="more-link view-article" href="/blog/2015/12/rdo-blog-roundup-week-of-december-8/">View article &raquo;</a>
</section>
<footer class='post-meta'>
<div class='tags'>
Tags:
<ul class='taglist'></ul>
<li><a href="/blog/tag/blog/">blog</a></li>
<li><a href="/blog/tag/openstack/">openstack</a></li>
</div>
</footer>
</article>

<article class='post hentry'>
<header class='post-header'>
<h2 class='post-title entry-title'>
<a href="/blog/2015/11/rdo-blog-roundup-week-of-november-23/">RDO blog roundup, week of November 23</a>
</h2>
<header class='post-meta'>
<span class='byline'>
by
<span class='author vcard'>
<a href="/blog/author/rbowen/">Rich Bowen</a>
</span>
</span>
&ndash;
<time class='published' datetime='2015-11-23T20:14:24Z'>
Monday 23 November 2015
</time>
</header>
</header>
<section class='post-content entry-content'>
<p>Here's what RDO engineers have been blogging about lately:</p>

<p><strong>Automated API testing workflow</strong> by Tristan Cacqueray</p>

<blockquote>
  <p>Services exposed to a network of any sort are in risk of security exploits. The API is the primary target of such attacks, and it is often abused by input that developers did not anticipate.</p>
</blockquote>

<p>… read more at <a href="http://tm3.org/3y">http://tm3.org/3y</a></p>

<p><strong>RDO Community Day @ FOSDEM</strong> by Rich Bowen</p>

<blockquote>
  <p>We're pleased to announce that we'll be holding an RDO Community Day in conjunction with the CentOS Dojo on the day before FOSDEM. This event will be held at the IBM Client Center in Brussels, Belgium, on Friday, January 29th, 2016.</p>
</blockquote>

<p>… read more at <a href="http://tm3.org/3z">http://tm3.org/3z</a></p>

<p><strong>Translating Between RDO/RHOS and Upstream OpenStack releases</strong> by Adam Young</p>

<blockquote>
  <p>There is a straight forward mapping between the version numbers used for RDO and Red Hat Enterprise Linux OpenStack Platform release numbers, and the upstream releases of OpenStack. I can never keep them straight. So, I write code.</p>
</blockquote>

<p>… read more at <a href="http://tm3.org/3-">http://tm3.org/3-</a></p>

<p><strong>Does cloud-native have to mean all-in?</strong> by Gordon Haff</p>

<blockquote>
  <p>Cloud-native application architectures promise improved business agility and the ability to innovate more rapidly than ever before. However, many existing conventional applications will provide important business value for many years. Does an organization have to commit 100% to one architecture versus another to realize true business benefits?</p>
</blockquote>

<p>… read more at <a href="http://tm3.org/40">http://tm3.org/40</a></p>


<a class="more-link view-article" href="/blog/2015/11/rdo-blog-roundup-week-of-november-23/">View article &raquo;</a>
</section>
<footer class='post-meta'>
<div class='tags'>
Tags:
<ul class='taglist'></ul>
<li><a href="/blog/tag/2015/">2015</a></li>
<li><a href="/blog/tag/blog/">blog</a></li>
<li><a href="/blog/tag/november/">november</a></li>
<li><a href="/blog/tag/openstack/">openstack</a></li>
</div>
</footer>
</article>

<article class='post hentry'>
<header class='post-header'>
<h2 class='post-title entry-title'>
<a href="/blog/2015/11/rdo-community-day-fosdem/">RDO Community Day @ FOSDEM</a>
</h2>
<header class='post-meta'>
<span class='byline'>
by
<span class='author vcard'>
<a href="/blog/author/rbowen/">Rich Bowen</a>
</span>
</span>
&ndash;
<time class='published' datetime='2015-11-17T15:57:52Z'>
Tuesday 17 November 2015
</time>
</header>
</header>
<section class='post-content entry-content'>
<p><strong>The schedule has now been published at
<a href="https://www.rdoproject.org/events/rdo-day-fosdem-2016/">https://www.rdoproject.org/events/rdo-day-fosdem-2016/</a>.</strong></p>

<p>We're pleased to announce that we'll be holding an RDO Community Day in conjunction with the <a href="https://wiki.centos.org/Events/Dojo/Brussels2016">CentOS Dojo</a> on the day before FOSDEM. This event will be held at the IBM Client Center in Brussels, Belgium, on Friday, January 29th, 2016.</p>

<p>You are encouraged to send your proposed topics and sessions via the <a href="http://goo.gl/forms/oDjI2BpCtm">Google form</a>. If you have questions about the event, or proposed topics, bring them either to the <a href="https://www.redhat.com/mailman/listinfo/rdo-list">rdo-list</a> mailing list, or to the #rdo channel on the Freenode IRC network.</p>

<p>If you're thinking of attending either the RDO Day, or the CentOS Dojo, please <a href="https://www.eventbrite.co.uk/e/centos-dojo-brussels-belgium-jan-29th-2016-tickets-19589843750">register</a> so that we know how many people to expect.</p>

<a class="more-link view-article" href="/blog/2015/11/rdo-community-day-fosdem/">View article &raquo;</a>
</section>
<footer class='post-meta'>
<div class='tags'>
Tags:
<ul class='taglist'></ul>
<li><a href="/blog/tag/centos/">centos</a></li>
<li><a href="/blog/tag/community/">community</a></li>
<li><a href="/blog/tag/dojo/">dojo</a></li>
<li><a href="/blog/tag/fosdem/">fosdem</a></li>
</div>
</footer>
</article>

<article class='post hentry'>
<header class='post-header'>
<h2 class='post-title entry-title'>
<a href="/blog/2015/11/openstack-fuzztest/">Automated API testing workflow</a>
</h2>
<header class='post-meta'>
<span class='byline'>
by
<span class='author vcard'>
<a href="/blog/author/tristancacqueray/">TristanCacqueray</a>
</span>
</span>
&ndash;
<time class='published' datetime='2015-11-13T14:00:00Z'>
Friday 13 November 2015
</time>
</header>
</header>
<section class='post-content entry-content'>
<p>Services exposed to a network of any sort are in risk of security exploits.
The API is the primary target of such attacks, and it is often abused by input that developers
did not anticipate.</p>

<p>This article introduces security testing of Openstack services using
<a href="https://en.wikipedia.org/wiki/Fuzz_testing#Techniques">fuzzing techniques</a></p>

<p>This article will demonstrate how OpenStack services could be automatically tested for security
defects.
First, I will introduce a set of tools called RestFuzz to demonstrate how it works in practice.
Second, I will discuss the limitations of RestFuzz and how more advanced techniques could be used.</p>

<p>The end goal is to design an automatic test to prevent a wide range of security bugs to enter
OpenStack's source code.</p>

<h1 id="how-a-fuzzer-works">How a fuzzer works</h1>

<p>A fuzzer's purpose is to discover issues like
<a href="https://security.openstack.org/ossa/OSSA-2015-012.html">OSSA 2015-012</a> by injecting random
inputs into the target program.
This advisory shows how a single invalid input, accepted by the API, broke the entire L2 network
service.
While code review and functional tests are not good at spoting such mistake, a fuzz test is a
proven strategies to detect security issues.</p>

<p>A fuzzer requires at least two steps: first, inputs need to be generated and fed to the
service's input; and second, errors needs to be detected.</p>

<h2 id="openstack-api-description">OpenStack API description</h2>

<p>To reach the actual service code, a fuzzer will need to go through the REST interface routing,
which is based on HTTP method and url.
One way to effectively hit the interesting parts of the service code is to replay known valid
HTTP queries.
For example, a fuzzer could re-use HTTP requests created by
<a href="http://git.openstack.org/cgit/openstack/tempest">tempest</a> functional tests.
However, this method is limited by its trace quality.
Instead, RestFuzz works the other way around and generates valid queries based on API definitions.
That way, it covers actions that functional tests do not use, such as unusual combinaisons of
parameters.</p>

<p>To keep the process simple, RestFuzz will need a description of the API that defines the methods'
endpoint and inputs' types.
While in theory the API description could be generated dynamically, it's easier to write it down
by hand.</p>

<p>As a C function description, a REST API method description could be written in YAML format like
this:</p>

<pre class="highlight yaml"><code>  <span class="pi">-</span> <span class="s">name</span><span class="pi">:</span> <span class="s1">'</span><span class="s">network_create'</span>&#x000A;    <span class="s">url</span><span class="pi">:</span> <span class="pi">[</span><span class="s1">'</span><span class="s">POST'</span><span class="pi">,</span> <span class="s1">'</span><span class="s">v2.0/networks.json'</span><span class="pi">]</span>&#x000A;    <span class="s">inputs</span><span class="pi">:</span>&#x000A;      <span class="s">network</span><span class="pi">:</span>&#x000A;        <span class="s">name</span><span class="pi">:</span> <span class="pi">{</span><span class="s1">'</span><span class="s">required'</span><span class="pi">:</span> <span class="s1">'</span><span class="s">True'</span><span class="pi">,</span> <span class="s1">'</span><span class="s">type'</span><span class="pi">:</span> <span class="s1">'</span><span class="s">string'</span><span class="pi">}</span>&#x000A;        <span class="s">admin_state_up</span><span class="pi">:</span> <span class="pi">{</span><span class="s1">'</span><span class="s">type'</span><span class="pi">:</span> <span class="s1">'</span><span class="s">bool'</span><span class="pi">}</span>&#x000A;    <span class="s">outputs</span><span class="pi">:</span>&#x000A;      <span class="s">network_id</span><span class="pi">:</span> <span class="pi">{</span><span class="s1">'</span><span class="s">type'</span><span class="pi">:</span> <span class="s1">'</span><span class="s">resource'</span><span class="pi">,</span> <span class="s1">'</span><span class="s">json_extract'</span><span class="pi">:</span> <span class="s1">'</span><span class="s">lambda</span><span class="nv"> </span><span class="s">x:</span><span class="nv"> </span><span class="s">x["network"]["id"]'</span><span class="pi">}</span>&#x000A;</code></pre>

<p>This example from the <a href="http://softwarefactory-project.io/r/gitweb?p=restfuzz.git;a=blob;f=api/network.yaml">network api</a>
defines a method called "network_create" using:
* The HTTP method and url to access the API.
* The description of the method's parameters' name and types.
* The description of the expected outputs along with a lambda gadget to ease value extraction
  from JSON output.</p>

<p>The <a href="http://softwarefactory-project.io/r/gitweb?p=restfuzz.git;a=blob;f=restfuzz/method.py">method object</a>
shows how to call network_create based on the above description.
Note that the call procedure takes a dictionary as JSON inputs.
The next chapter will cover how to generate such inputs dynamically.</p>

<h2 id="input-generation">Input generation</h2>

<p>An input constructor needs to be implemented for each type.
The goal is to generate data known to cause application errors.</p>

<p>The <a href="http://softwarefactory-project.io/r/gitweb?p=restfuzz.git;a=blob;f=restfuzz/input_generator.py#l277">input_generator object</a>
shows the api call parameters can be dynamically generated by using the method input description
shown above. Here are a couple of input generators:</p>

<pre class="highlight python"><code>    <span class="k">def</span> <span class="nf">gen_string</span><span class="p">():</span>&#x000A;        <span class="n">chunk</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">"/dev/urandom"</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">512</span><span class="p">))</span>&#x000A;        <span class="k">return</span> <span class="nb">unicode</span><span class="p">(</span><span class="n">chunk</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="s">'ignore'</span><span class="p">)</span>&#x000A;&#x000A;    <span class="k">def</span> <span class="nf">gen_address_pair</span><span class="p">():</span>&#x000A;        <span class="k">return</span> <span class="p">{</span>&#x000A;            <span class="s">"ip_address"</span><span class="p">:</span> <span class="n">generate_input</span><span class="p">(</span><span class="s">"cidr"</span><span class="p">),</span>&#x000A;            <span class="s">"mac_address"</span><span class="p">:</span> <span class="n">generate_input</span><span class="p">(</span><span class="s">"mac_address"</span><span class="p">)</span>&#x000A;        <span class="p">}</span>&#x000A;</code></pre>

<p>Note that "resource" types are UUID data, which can't be randomly generated.
Thus, the fuzzer needs to keep track of method outputs to reuse valid UUID whenever possible.</p>

<p>The fuzzer can now call API methods with random inputs, but, it still needs to monitor
service API behavior.
This leads us to the second steps of error detection.</p>

<h2 id="openstack-error-detection">OpenStack error detection</h2>

<p>This chapter covers a few error detection mechanisms that can be used with OpenStack components.</p>

<h3 id="http-error-code">HTTP Error code</h3>

<p>OpenStack services' API will return theses important error codes:</p>

<ul>
  <li>401 tells the keystone token needs to be refreshed</li>
  <li>404 tells a UUID is no longer valid</li>
  <li>500 tells unexpected error</li>
</ul>

<h3 id="tracebacks-in-logs">Tracebacks in logs</h3>

<p>Finding tracebacks in logs is usually a good indicator that something went wrong.
Moreover, using file names and line numbers, a traceback identifier could be computed to
detect new unique errors.
The <a href="http://softwarefactory-project.io/r/gitweb?p=restfuzz.git;a=blob;f=restfuzz/health.py">health object</a>
features a collect_traceback function.</p>

<h3 id="api-service-process-usage">API service process usage</h3>

<p>Finaly cgroups can be used to monitor API services memory and CPU usage.
High CPU loads or constant growth of reserved memory are also good indicators that something
went wrong.
However this requires some mathematical calculations which are yet to be implemented.</p>

<h2 id="fuzzing-workflow">Fuzzing Workflow</h2>

<p>All together, a fuzzing process boils down to:</p>

<ul>
  <li>choose a random method</li>
  <li>call method using random inputs</li>
  <li>probe for defect</li>
  <li>repeat</li>
</ul>

<p>The <a href="http://softwarefactory-project.io/r/gitweb?p=restfuzz.git;a=blob;f=restfuzz/fuzzer.py">ApiRandomCaller object</a>
uses random.shuffle to search for random methods and returns an Event object to the main process
<a href="http://softwarefactory-project.io/r/gitweb?p=restfuzz.git;a=blob;f=restfuzz/cmd.py#l60">starting here</a>.</p>

<h2 id="restfuzz-features">RestFuzz features</h2>

<p>Console output:</p>

<pre class="highlight shell"><code>  <span class="nv">$ </span>restfuzz --api ./api/network.yaml --health ./tools/health_neutron.py&#x000A;  <span class="o">[</span>2015-10-30 06:19:09.685] port_create: 201| curl -X POST http://127.0.0.1:9696/v2.0/ports.json -d <span class="s1">'{"port": {"network_id": "652b1dfa-9bcb-442c-9088-ad1a821020c8", "name": "jav&amp;#x0D;ascript:alert('</span>XSS<span class="s1">');"}}'</span> -&gt; <span class="s1">'{"port": {"id": 2fc01817-9ec4-43f2-a730-d76b70aa4ea5"}}'</span>&#x000A;  <span class="o">[</span>2015-10-30 06:19:09.844] security_group_rule_create: 400| curl -X POST http://127.0.0.1:9696/v2.0/security-group-rules.json -d <span class="s1">'{"security_group_rule": {"direction": "ingress", "port_range_max": 9741, "security_group_id": "da06e93b-87a3-4d90-877b-047ab694addb"}}'</span> -&gt; <span class="s1">'{"NeutronError": {"message": "Must also specifiy protocol if port range is given.", "type": "SecurityGroupProtocolRequiredWithPorts", "detail": ""}}'</span>&#x000A;  <span class="o">[</span>2015-10-30 06:19:10.123] security_group_create: 500| curl -X POST http://127.0.0.1:9696/v2.0/security-groups.json -d <span class="s1">'{"security_group": {"name": ["Dnwpdv7neAdvhMUcqVyQzlUXpyWyLz6cW2NPPyA6E8Z9FbvO9mVn1hs30rlabVjtVHy6yCQqpEp0xcF1AsWZYAPThstCZYebxKcJaiS7o7fS0GsvG3i8kQwNzOl5F1SiXBxcmywqI9Y6t0ZuarZI787gzDUPpPY0wKZL69Neb87mZxObhzx4sgWHIRGfsrtYTawd6dYXYSeajEDowcr1orVwJ6vY"]}}'</span> -&gt; <span class="s1">'{"NeutronError": {"message": "Request Failed: internal server error while processing your request.", "type": "HTTPInternalServerError", "detail": ""}}'</span>, /var/log/neutron/q-svc.log&#x000A;  File <span class="s2">"/opt/stack/neutron/neutron/api/v2/resource.py"</span>, line 83, <span class="k">in </span>resource&#x000A;    result <span class="o">=</span> method<span class="o">(</span><span class="nv">request</span><span class="o">=</span>request, <span class="k">**</span>args<span class="o">)</span>&#x000A;  File <span class="s2">"/opt/stack/neutron/neutron/api/v2/base.py"</span>, line 391, <span class="k">in </span>create&#x000A;    <span class="nv">allow_bulk</span><span class="o">=</span>self._allow_bulk<span class="o">)</span>&#x000A;  File <span class="s2">"/opt/stack/neutron/neutron/api/v2/base.py"</span>, line 652, <span class="k">in </span>prepare_request_body&#x000A;    attr_vals[<span class="s1">'validate'</span><span class="o">][</span>rule]<span class="o">)</span>&#x000A;  File <span class="s2">"/opt/stack/neutron/neutron/extensions/securitygroup.py"</span>, line 195, <span class="k">in </span>_validate_name_not_default&#x000A;  ...&#x000A;</code></pre>

<p>Network topology after one hour of fuzz test:</p>

<p><img alt="Random Network Topology" src="/images/blog/restfuzz_network_topology.jpg" /></p>

<p>Interesting features:</p>

<ul>
  <li><a href="http://softwarefactory-project.io/r/gitweb?p=restfuzz.git;a=tree;f=api">API description</a> works for block storage (Cinder), image (Glance),
network (Neutron) and dns (Designate).</li>
  <li><a href="http://softwarefactory-project.io/r/gitweb?p=restfuzz.git;a=blob;f=restfuzz/input_generator.py">Input generator</a> randomly inter-changes types using
a "chaos monkey" behavior to abuse the API even more.</li>
  <li><a href="http://softwarefactory-project.io/r/gitweb?p=restfuzz.git;a=blob;f=restfuzz/health.py">Health plugin</a> implements custom probe per services.</li>
  <li>Simple workflow where methods are called in random order. An early version tried to build a
graph to walk through the API more efficiently, but it turns out that calling method randomly
is efficient enough and it keeps the code much more simple.
See <a href="../../../../images/blog/restfuzz_graph.jpg">this image</a> for a dependency graph of the network API.</li>
  <li>More importantly, it already found a bunch of security defect like
<a href="https://bugs.launchpad.net/neutron/+bug/1486565">bug #1486565</a> or
<a href="https://bugs.launchpad.net/neutron/+bug/1471957">bug #1471957</a>.
The full list is available in the <a href="http://softwarefactory-project.io/r/gitweb?p=restfuzz.git;a=blob;f=README">README</a>.</li>
</ul>

<p>However, RestFuzz is a proof of concept and it's not ready to be used as an efficient
gate mechanism.
The next part of this article discusses the limitations reached and what needs to be done
to get something awesome!</p>

<h1 id="limitations-and-improvments">Limitations and improvments</h1>

<h2 id="its-built-from-the-ground-up">It's built from the ground up</h2>

<p>RestFuzz currently only requires python-requests and PyYAML.
A good chunk of the code could use frameworks such as the
<a href="http://git.openstack.org/cgit/openstack/syntribos">syntribos</a> and/or
<a href="https://github.com/cdent/gabbi">gabbi</a></p>

<h2 id="api-description">API description</h2>

<p>Managing API descriptions is a great limitation, as the fuzzer will only be as good as the API
description.
OpenStack really needs to provide us the API description in a unified and consistent format:</p>

<ul>
  <li><a href="http://developer.openstack.org/api-ref.html">API Documentation</a> does not describe the input
object precisely enough, making it impossible to use automatically.</li>
  <li><a href="http://git.openstack.org/cgit/openstack/nova/tree/doc/api_samples">Service documentation</a> is
sporadic and REST API routing is done differently in most OpenStack projects.</li>
  <li><a href="http://developer.openstack.org/">Command line tools</a> may provide a good base, but they usualy
omit unusual parameters and service extensions.</li>
</ul>

<p>Having an unified API description will give a fuzzer bigger code coverage.</p>

<h2 id="complex-types-generation">Complex types generation</h2>

<p>A formal description of API inputs is a real challenge.
Some services like Heat or Sahara can take flat files as input that would requires dedicated
input generators.
Otherwise, services like Designate need coherent inputs to pass early checks.
E.G., the domain name used at zone creation needs to be reused for record creation.</p>

<p>In theory, this limitation could be mitigated using better instruments like guided fuzzing.</p>

<h2 id="guided-fuzzing">Guided fuzzing</h2>

<p>A modern fuzzer like <a href="http://lcamtuf.coredump.cx/afl/">American Fuzzy Lop</a> (afl) is able to
monitor which instructions are executed by the target program and then use
"rock-solid instrumentation-guided genetic algorithm" to produce inputs.
In short, afl can generate valid input out of thin air without any description.</p>

<p>However afl is difficult to put in place for network services because it requires services'
modification.
<a href="http://jwilk.net/software/python-afl">python-afl</a> bridges the Python interpreter with the
fuzzer, and it may be interesting for OpenStack services testing.</p>

<h2 id="anomalies-detection-probes">Anomalies detection probes</h2>

<p>Better watchdog processes could be used in paralel to detect silent logic flaws.
Stacktraces and 500 errors most often reveal basic programing flaws.
If one of the following actions fail, it's a good sign something is defective:</p>

<ul>
  <li>Boot an instance, assign an ip and initiate connection</li>
  <li>Test methods with expected output like with
<a href="http://gabbi.readthedocs.org/en/latest/example.html">gabbi</a></li>
  <li>Run functional tests</li>
</ul>

<h2 id="fuzzer-as-a-service">Fuzzer As A Service</h2>

<p>A fuzzer could also be implemented as an OpenStack service that integrates nicely with the
following components:</p>

<ul>
  <li>Compute resources with Nova</li>
  <li>Database store with Trove</li>
  <li>Message bus for parallel testing with Zaquar</li>
  <li>Data processing with Sahara/Sparks</li>
</ul>

<h1 id="conclusion">Conclusion</h1>

<p>Fuzzing is a powerful strategy to pro-actively detect security issues.
Similar to <a href="https://wiki.openstack.org/wiki/Security/Projects/Bandit">bandit</a> the end goal is
to have an automatic test to detect and prevent many kinds of code defect.</p>

<p>While RestFuzz is really just a naïve proof of concept, it nonetheless indicated important
limitations such as the lack of API description.
I would appreciate feedback and further would like to create an upstream community to implement
OpenStack fuzz testing.</p>

<p>This effort could start as an offline process with automatic reporting of traceback and 500
errors.
But ultimately this really needs to be used as a gating system to prevent erroneous commits to
be released.</p>

<p>I'd like to thank fellow Red Hat engineers Gonéri Le Bouder, Michael McCune, and George
Peristerakis for their support and early reviews.</p>

<a class="more-link read-more" href="/blog/2015/11/openstack-fuzztest/">Read More &raquo;</a>
</section>
<footer class='post-meta'>
<div class='tags'>
Tags:
<ul class='taglist'></ul>
<li><a href="/blog/tag/testing/">testing</a></li>
</div>
</footer>
</article>

<article class='post hentry'>
<header class='post-header'>
<h2 class='post-title entry-title'>
<a href="/blog/2015/11/rdo-blog-roundup-week-of-november-9/">RDO blog roundup, week of November 9</a>
</h2>
<header class='post-meta'>
<span class='byline'>
by
<span class='author vcard'>
<a href="/blog/author/rbowen/">Rich Bowen</a>
</span>
</span>
&ndash;
<time class='published' datetime='2015-11-09T17:34:33Z'>
Monday  9 November 2015
</time>
</header>
</header>
<section class='post-content entry-content'>
<p>Here's what RDO enthusiasts were blogging about this week. If you were
at OpenStack Summit in Tokyo last month, don't forget to write up your
experience.</p>

<p><strong>RDO Liberty released in CentOS Cloud SIG</strong>, by Alan Pevec</p>

<blockquote>
  <p>We are pleased to announce the general availability of the RDO build for OpenStack Liberty for CentOS Linux 7 x86_64, suitable for building private, public and hybrid clouds. OpenStack Liberty is the 12th release of the open source software collaboratively built by a large number of contributors around the OpenStack.org project space.</p>
</blockquote>

<p>… read more at <a href="http://tm3.org/3d">http://tm3.org/3d</a></p>

<p><strong>Neutron HA Talk in Tokyo Summit</strong> by Assaf Muller</p>

<blockquote>
  <p>Florian Haas, Adam Spiers and myself presented a session in Tokyo about Neutron high availability. We talked about:</p>
</blockquote>

<p>… read more at <a href="http://tm3.org/3s">http://tm3.org/3s</a></p>

<p><strong>OpenStack Summit Tokyo</strong> by Matthias Runge</p>

<blockquote>
  <p>Over the past week, I attended the OpenStack Summit in Tokyo.
My primary focus was on Horizon sessions. Nevertheless, I was lucky to have one or two glimpses at more touristic spots in Tokyo.</p>
</blockquote>

<p>… read more at <a href="http://tm3.org/3t">http://tm3.org/3t</a></p>

<p><strong>OpenStack Summit Tokyo – Final Summary</strong> by Gordon Tillmore</p>

<blockquote>
  <p>As I flew home from OpenStack Summit Tokyo last week, I had plenty of time to reflect on what proved to be a truly special event. OpenStack gains more and more traction and maturity with each community release and corresponding Summit, and the 11th semi-annual OpenStack Summit certainly did not disappoint. With more than 5,000 attendees, it was the largest ever OpenStack Summit outside of North America, and there were so many high quality keynotes, session, and industry announcements, I thought it made sense to put together a final trip overview, detailing all of the noteworthy news, Red Hat press releases, and more.</p>
</blockquote>

<p>… read more at <a href="http://tm3.org/3u">http://tm3.org/3u</a></p>

<p><strong>Community Meetup at OpenStack Tokyo</strong> by Rich Bowen</p>

<blockquote>
  <p>A week ago in Tokyo, we held the third RDO Community Meetup at the OpenStack Summit. We had about 70 people in attendance, and some good discussion. The full agenda for the meeting is at https://etherpad.openstack.org/p/rdo-tokyo and below are some of the things that were discussed. (The complete recording is at the bottom of this post.)</p>
</blockquote>

<p>… read more at <a href="http://tm3.org/3v">http://tm3.org/3v</a></p>

<p><strong>Mike Perez: Cinder in Liberty</strong> by Rich Bowen</p>

<blockquote>
  <p>Before OpenStack Summit, I interviewed Mike Perez about what's new in Cinder in the LIberty release, and what's coming in Mitaka. Unfortunately, life got a little busy and I didn't get it posted before Summit. However, with Liberty still fresh, this is still very timely content.</p>
</blockquote>

<p>… read more at <a href="http://tm3.org/3w">http://tm3.org/3w</a></p>

<a class="more-link view-article" href="/blog/2015/11/rdo-blog-roundup-week-of-november-9/">View article &raquo;</a>
</section>
<footer class='post-meta'>
<div class='tags'>
Tags:
<ul class='taglist'></ul>
<li><a href="/blog/tag/blog/">blog</a></li>
<li><a href="/blog/tag/community/">community</a></li>
<li><a href="/blog/tag/november/">november</a></li>
<li><a href="/blog/tag/roundup/">roundup</a></li>
</div>
</footer>
</article>

<article class='post hentry'>
<header class='post-header'>
<h2 class='post-title entry-title'>
<a href="/blog/2015/11/mike-perez-cinder-in-liberty/">Mike Perez: Cinder in Liberty</a>
</h2>
<header class='post-meta'>
<span class='byline'>
by
<span class='author vcard'>
<a href="/blog/author/rbowen/">Rich Bowen</a>
</span>
</span>
&ndash;
<time class='published' datetime='2015-11-06T18:59:15Z'>
Friday  6 November 2015
</time>
</header>
</header>
<section class='post-content entry-content'>
<p>Before OpenStack Summit, I interviewed Mike Perez about 
what's new in Cinder in the LIberty release, and what's coming in Mitaka. Unfortunately, 
life got a little busy and I didn't get it posted before Summit. However, with Liberty still 
fresh, this is still very timely content.</p>

<p>In this interview, Mike talks about the awesome new features that have gone into <a href="https://wiki.openstack.org/wiki/Cinder">Cinder</a> for Liberty, and what we can expect to see in April.</p>

<p>If the audio player below doesn't work for you, you can download the full audio <a href="http://drbacchus.com/podcasts/openstack/mike_perez_cinder.mp3">HERE</a>. See also the complete transcript below.</p>

<audio controls="">
  <source src="http://drbacchus.com/podcasts/openstack/mike_perez_cinder.mp3" type="audio/mpeg" />
</audio>

<p><strong>Rich</strong>: Today I'm speaking with Mike Perez, who is the PTL of the Cinder
project. Cinder has been around for …</p>

<p><strong>Mike</strong>: Since the Folsom release.</p>

<p><strong>R</strong>: So, quite a while. Thanks for taking time to talk with me.</p>

<p>I wonder if you could start by giving us a real quick definition of
Cinder. I know that people who are new to OpenStack are frequently a
little bit confused as to what it is, and how it differs from Swift
and various other storage type things that are part of OpenStack.</p>

<p><strong>M</strong>: Cinder, just like a variety of other OpenStack projects, is just an
API layer. So unlike other projects like <a href="https://wiki.openstack.org/wiki/Swift">Swift</a>, for example, which is
an actual implementation of a type of storage, that's where there
would be a little bit of a difference right there.</p>

<p>In particular, Cinder is more interested in providing block storage,
as opposed to object storage. They have differences in terms of how
exactly you interact with retrieving the data, as well as adding data
to it, and then they also support different types of use cases. In
particular, just without Cinder or Swift in the picture, if you just
have your OpenStack cloud with Nova and Neutron, you just have
ephemeral storage that you're using with your instances. Typically,
with those type of setups, your storage goes away as soon as the
instance goes away. Adding Cinder into the picture, though, you are
given the ability to have persistent storage, so that the storage
itself becomes completely independent of the actual virtual machine
instance. So when you terminate your virtual machine instance on the
Nova side, there will be a detach of that block storage volume, and
then you can later on attach it to another virtual machine instance.</p>

<p><strong>R</strong>: Tell us about Liberty. What's new in Cinder?</p>

<p><strong>M</strong>: Inside of the Liberty release we have 16 new volume drivers.
They're all backed with Cinder continuous integration testing that we
adopt from Tempest. Cinder has one of the most - I would say - the
most drivers out of the OpenStack projects. We're just shy of around
60 volume drivers now. Some of them are from multiple vendors. As I
mentioned before, they are all backed behind the continuous
integration, so we know for a fact, as we are going through a
development cycle in Liberty, these volume drivers, the actual
back-ends themselves, are being tested. Every single vendor is
expected to have a CI system in their own lab, hooked up to a real
storage solution that they are trying to support inside of Cinder.
That patch will bring us - they're expected for their CI to bring up a
CI instance that connects to that storage back-end and runs their
Tempest tests, and verify that that patch doesn't break their
integration with their volume driver. That came back in the Kilo
release. The story's in a lot of different places. It was a lot of fun
getting us to that point. It's been nice talking to other projects,
because I know a lot of other projects are interested in going down
the same path, and it's been great having discussions with a variety
of other PTLs on it.</p>

<p>And along with that we added in support for image caching. You have an
image inside of Glance that you want to boot up a VM with that image.
And with Cinder in particular, since the storage itself is in some
other remote location from that virtual machine, because we're
attaching over something like ISCSI or fibrechannel, grabbing the
image from wherever Glance is at, whatever Glance store is set up with
Glance itself - could be inside of Swift for example, you have an
image inside of Swift - and you want to put that image onto a newly
allocated space volume inside of Cinder, in order to do that, it has
to go across the network to whatever storage solution Cinder is set up
with, and that can be really time consuming, especially for some of
our users that are using 20-40Gb images. It can take a lot of time to
boot up that VM. Cinder itself has a very generic image caching
solution that we added in for the Liberty release, that allows for the
most popular images inside of your cloud to be cached within the
back-end storage solution. So what that means is, for that cache we
can do some really smart things with the different storage solution.
Instead of doing copy of the actual image, we can do copy-on-writes,
for example. So it's pretty much a zero copy, you're just pointing a
reference to that image that's already allocated on that storage
solution. And then create a new volume off of that reference pointer.
Bam! You have a new volume that is set up with that image, and there's
zero copies that had to happen. I think that's going to take care of a
really popular problem, that comes up, and should make users really
happy for this release.</p>

<p>Some of the other things that we added support for that are kind of
general things is nested quota support, for example. Keystone has this
ability with having projects within projects. Users and operators want
to be able to have the ability to set quotas based on having a
hierarchy for quotas. I'm not sure about other projects, but Cinder
has added this in now for the Liberty release, so you will be able to
add that with your different volume allocation, as well as your
gigabyte allocation as well, for project hierarchy.</p>

<p>The third piece I would add in is the non-disruptive backups. Cinder
has this ability for doing backups. These are different from
snapshots. Snapshots, you're typically doing the actual volume itself.
You're copying the entire allocation of that volume. So, let's say you
have a 100G volume, and you're only using 5G of it, it's still doing a
snapshot of 100G, even unused parts. The difference with a backup is
you have the ability to do a backup of just the contents, what you're
actually using. And on top of it you're also able to have the volume
backed up to another location, let's say you could set up a Cinder
backup service that is able to talk to Swift. For your Cinder side,
you have Ceph set up. So you have completely two separate storage
solutions, and if something were to happen to the Ceph storage
solution, everything would still be backed up on this other Swift
cluster that's completely independent.</p>

<p>The problem with doing backups, though, typically was - and this is
just with block storage in general - is you would have to detach the
volume from it being used by the VM, and then you would have to
initiate a backup, and then reattach that volume to the Cinder backup
solution which would then go ahead and put it into the Swift cluster.
That could be disruptive. The new solution that now we have is, some
of the different back-end solutions that we're using for the Cinder
backups will give you the ability to keep the volume attached, and
actively being used, but we can go ahead and initiate a backup, and it
will keep copying over the bits, and hopefully eventually catch up to
where the volume is at, to a point where it can stop the backups, and
your volume can continue being used in production.</p>

<p>I would say those are the most interesting for the Liberty release.</p>

<p><strong>R</strong>: What's your vision, looking forward, for Mitaka and on, for Cinder.</p>

<p><strong>M</strong>: I sort of talked about this in the previous Liberty release, and
unfortunately we weren't exactly able to finish everything up in time.
My apologies to everyone. But for the operator side, we have been
working on trying to make rolling upgrades a real thing, instead of
just talking about it. Initially, for the Kilo release, we worked on a
solution inside of Oslo that gives you the ability to have the
OpenStack services themselves be written in a way to be independent
from the actual database solution that's being used. Typically when
you do upgrade you have to bring down - whatever services you're going
to upgrade, you have bring down those services, and then you have to
do a database upgrade. And for real OpenStack users, that can be very
time consuming because of all the different column changes that have
to happen for all of the different rows of data that they have.
During that time, you have down time of those services. So, for the
Kilo release we ended up working on a solution that made those
services where they could continue running, and you could run the
database upgrade and there would be no disruption. And when you found
it convenient to do it, you can restart those services so that they
could take advantage of the new database changes. But they could
continue to run even with the database changes happening underneath.
So that was added in Oslo, and we made that available for all
OpenStack projects, not just Cinder, to take advantage of.</p>

<p>What we're working on for the M release, and what we were working on for Liberty
as well, is the ability to have the services be independent of each
other. The way that they communicate with each other is with RPC. For
example, if you have, in the Cinder case, typical setup is you have a
Cinder API server, you have a Cinder scheduler, and you have a Cinder
volume manager. And as soon as you upgrade one of those services, they
can no longer talk to each other. So, having the ability, as an
operator, to roll out the updates to, say, all of my Cinder APIs, and
verify that everything looks good, and then to make the decision, ok,
now I want to update the Cinder scheduler. So it's all about being
comfortable, and having things be convenient for the operator. So the
RPC compatibility layer will allow the operator to do those upgrades
at their own pace.</p>

<p>And, just like what we did with the Cinder database
upgrade case, we're trying to make this a generic solution so that we
can allow all OpenStack projects to take advantage of this same
solution.</p>

<p>Very likely, just like what we did before, it will be something that
will surface up into the Oslo library as well.</p>

<p>One feature that I know in particular that will be coming out, that
has already finished in the Liberty release, but we just didn't have
any of our volume drivers take advantage of it yet, is just some basic
replication ability. To be able to say that I have this volume, which
is the primary, and have other volumes that for that particular volume
will be replicated over. And if anything was to happen to the primary
volume, it would fail over to the secondary volume. So, really basic
replication, and we're not trying to do all the bells and whistles out
of the box right now, so it is a manual failover case. From what we've
got in previous summit discussions, people were kind of OK anyways
with doing manual failover. Weren't completely comfortable with
trusting software to do auto-failover. Eventually we'll get over
there, but I think getting all volume drivers over to supporting
replication is a big win.</p>

<p>And then for the rest of the M release, I would say is a lot of
catchup with some of the other projects in terms of the ability - this
is not really something for the users, or the actual operators
themselves - but the support of microversions. Just having the ability
for us to progress forward in the API while still preserving some
backward compatibility.</p>

<p>And then, the last part that I would say that may still not be
something noticeable to users and operators, but we are working a lot
more closely with the Nova team. In previous times there hasn't been a
lot of interactions between the two teams, and Nova uses the Cinder
API pretty heavily in the cases where persistent storage is needed.
And I would say that currently, today, we have quite a number of
issues that we're trying to work through in terms of how they're
expecting to use our API, and how well we defined our API to them
initially. So, I wouldn't really say it's a fault in anybody that's
been using our API, but more us trying to figure out how to define to
people that want to use our API how it should be used properly.<br />
And now we're trying to clean that up as we go.</p>

<p>So, basically, we should see in the M release is better interaction
between Nova and Cinder and, if there are any issues that happen in
those interactions, that they'll be able to recover from those issues.
So any time that Nova wants to create a volume and attach it, and
something were fail in between there, there would be some sort of
recovery that would happen, that the user can understand what just
happened, and could take action from there. Because currently, today,
there's really not much information for the user to go by to know what
to do next.</p>

<p><strong>R</strong>: Thank you very much for taking the time to do this.</p>

<p><strong>M</strong>: No problem.</p>

<a class="more-link view-article" href="/blog/2015/11/mike-perez-cinder-in-liberty/">View article &raquo;</a>
</section>
<footer class='post-meta'>
<div class='tags'>
Tags:
<ul class='taglist'></ul>
<li><a href="/blog/tag/cinder/">cinder</a></li>
<li><a href="/blog/tag/openstack/">openstack</a></li>
<li><a href="/blog/tag/ptl/">ptl</a></li>
</div>
</footer>
</article>

<ul class='pagination'>
<li>
<a href="/blog/page=4/">Newer</a>
</li>
<li>
<a href="/blog/">1</a>
</li>
<li>
<a href="/blog/page=2/">2</a>
</li>
<li>
<a href="/blog/page=3/">3</a>
</li>
<li>
<a href="/blog/page=4/">4</a>
</li>
<li class='active'>
<span>5</span>
</li>
<li>
<a href="/blog/page=6/">6</a>
</li>
<li>
<a href="/blog/page=7/">7</a>
</li>
<li>
<a href="/blog/page=8/">8</a>
</li>
<li>
<a href="/blog/page=9/">9</a>
</li>
<li>
<a href="/blog/page=6/">Older</a>
</li>
</ul>

</section>

</section>

</div>
</section>

</section>
</section>
</section>
<footer class='text-center' id='footer'>
<hr class='visible-print'>
<div class='footer-rdo'>
<dl>
  <dt>Docs</dt>
  <dd><a href="/install/quickstart">Download</a></dd>
  <dd><a href="/rdo/faq">Common questions</a></dd>
  <dd><a href="/troubleshooting/">Troubleshooting</a></dd>
  <dd><a href="/rdo/">About RDO</a></dd>
</dl>

<dl>
  <dt>Use RDO</dt>
  <dd><a href="/install/quickstart">Quickstart</a></dd>
  <dd><a href="/rdo/release-cadence">Releases</a></dd>
  <dd><a href="http://trunk.rdoproject.org/">Trunk builds</a></dd>
</dl>

<dl>
  <dt>Community</dt>
  <dd><a href="/community/">Participate</a></dd>
  <dd><a href="http://ask.rdoproject.org/">Ask (Q&amp;A)</a></dd>
  <dd><a href="https://bugzilla.redhat.com/buglist.cgi?product=RDO&amp;query_format=advanced&amp;bug_status=NEW&amp;bug_status=ASSIGNED">Browse open issues</a></dd>
  <dd><a href="https://bugzilla.redhat.com/enter_bug.cgi?product=RDO">Report a problem</a></dd>
</dl>

<dl>
  <dt>Support</dt>
  <dd><a href="https://access.redhat.com/products/red-hat-openstack-platform/">Red Hat OpenStack Platform</a></dd>
  <dd><a href="https://www.redhat.com/mailman/listinfo/rdo-list">Contact us</a></dd>
</dl>

</div>

<ul class='footer-nav-list'>
<li><strong>RDO</strong> is a <strong>Red Hat</strong>-sponsored community project</li>
</ul>

<div class='copyright'>
&copy; 2016 RDO
<span class='legal'><a href="/legal/">Legal & Privacy</a></span>
</div>
<div class='edit-this-page'>
<a target="_blank" href="https://github.com/redhat-openstack/website/edit/master/source/blog.html.haml"><i class="icon fa fa-pencil"></i>Edit this page on GitHub</a>
</div>
<div class='last-modified'>
Page last modified
Thu 7 Jan 2016 19:41 UTC
</div>
</footer>


<script src="/javascripts/application.js" type="text/javascript"></script>

<!-- begin eloqua tracking -->
<script language='JavaScript' src='//www.redhat.com/j/elqNow/elqCfg.js' type='text/javascript'></script>
<script language='JavaScript' src='//www.redhat.com/j/elqNow/elqImg.js' type='text/javascript'></script>
<!-- end eloqua tracking -->
<!-- begin Omniture tracking -->
<!--
SiteCatalyst code version: H.25.4
Copyright 1996-2013 Adobe, Inc. All Rights Reserved
More info available at http://www.omniture.com
-->
<div id='oTags'>
<script src='//www.redhat.com/assets/js/noncms_s_code.js' type='text/javascript'></script>
<script>
   /* You may give each page an identifying name, server, and channel on the next lines. */
   var coreUrl = encodeURI(document.URL.split("?")[0]);
   var urlSplit = coreUrl.toLowerCase().split(/\//);
   var urlLast = urlSplit[urlSplit.length-1];
   var pageNameString = "";
   var minorSectionIndex = 3;
   if (urlSplit[3] == "promo") {
     minorSectionIndex = 4;
   }
   if (urlLast == "") {
     urlSplit.splice(-1,1);
   }
   if (urlLast.search(/\./) >= 0) {
     if (urlLast == "index.html" || urlLast == "index.php") {
       urlSplit.splice(-1,1);
     } else {
       urlSplit[urlSplit.length-1] = urlLast.split(".").splice(0,1);
     }
   }
   s.prop14 = s.eVar27 = "rdo";
   s.prop15 = s.eVar28 = urlSplit[minorSectionIndex] || "";
   s.prop16 = s.eVar29 = urlSplit[minorSectionIndex+1] || "";
   pageNameString = urlSplit.splice(3).join(" | ");
   s.pageName = "rh | microsite | rdo | " + pageNameString;
   s.channel = "microsite";
   s.prop4 = s.eVar23 = encodeURI(document.URL);
   s.prop21 = s.eVar18 = coreUrl;
   s.prop2 = s.eVar22 = "en";
</script>
<script src='//www.redhat.com/j/rh_omni_footer.js' type='text/javascript'></script>
<script>
   if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
</script>
<noscript>
<a href='http://www.omniture.com' title='Web Analytics'>
<img alt='' border='0' height='1' src='https://smtrcs.redhat.com/b/ss/redhatcom,redhatglobal/1/H.25.4--NS/0?[AQB]=3[AQE]' width='1'>
</a>
</noscript>
</div>
<!-- /DO NOT REMOVE/ -->
<!-- End SiteCatalyst code version: H.25.4 -->
<!-- End Omniture tracking -->

</body>
</html>
